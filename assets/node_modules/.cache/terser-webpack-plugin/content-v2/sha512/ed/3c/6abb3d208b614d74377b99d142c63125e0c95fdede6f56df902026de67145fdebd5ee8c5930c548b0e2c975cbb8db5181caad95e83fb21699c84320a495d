{"map":{"version":3,"sources":["socket.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","eval","__webpack_exports__"],"mappings":"CAAS,SAAUA,GAET,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAJ,EAAQG,GAAUK,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBO,EAAIT,EAGxBE,EAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAI,SAASP,EAASQ,EAAMC,GAC3CX,EAAoBY,EAAEV,EAASQ,IAClCG,OAAOC,eAAeZ,EAASQ,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEX,EAAoBiB,EAAI,SAASf,GACX,oBAAXgB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeZ,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,KAQvDpB,EAAoBqB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQpB,EAAoBoB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAzB,EAAoBiB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOpB,EAAoBS,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRxB,EAAoB4B,EAAI,SAASzB,GAChC,IAAIQ,EAASR,GAAUA,EAAOoB,WAC7B,WAAwB,OAAOpB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG9B,EAAoBiC,EAAI,OAIjBjC,EAAoBA,EAAoBkC,EAAI,GAnFpD,CAsFC,CAEJ,SAAU/B,OAAQD,QAASF,qBAEjCmC,KAAK,421EAGE,CACA,CAED,SAAUhC,OAAQiC,oBAAqBpC,qBAE7C,aACAmC,KAAK"},"code":"!function(n){var e={};function t(l){if(e[l])return e[l].exports;var i=e[l]={i:l,l:!1,exports:{}};return n[l].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,l){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:l})},t.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var i in n)t.d(l,i,function(e){return n[e]}.bind(null,i));return l},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,\"a\",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p=\"/js/\",t(t.s=3)}([function(module,exports,__webpack_require__){eval('!function (e, t) {\\n   true ? module.exports = t() : undefined;\\n}(this, function () {\\n  return function (e) {\\n    var t = {};\\n\\n    function n(i) {\\n      if (t[i]) return t[i].exports;\\n      var o = t[i] = {\\n        i: i,\\n        l: !1,\\n        exports: {}\\n      };\\n      return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\\n    }\\n\\n    return n.m = e, n.c = t, n.d = function (e, t, i) {\\n      n.o(e, t) || Object.defineProperty(e, t, {\\n        enumerable: !0,\\n        get: i\\n      });\\n    }, n.r = function (e) {\\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\\n        value: \"Module\"\\n      }), Object.defineProperty(e, \"__esModule\", {\\n        value: !0\\n      });\\n    }, n.t = function (e, t) {\\n      if (1 & t && (e = n(e)), 8 & t) return e;\\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\\n      var i = Object.create(null);\\n      if (n.r(i), Object.defineProperty(i, \"default\", {\\n        enumerable: !0,\\n        value: e\\n      }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(i, o, function (t) {\\n        return e[t];\\n      }.bind(null, o));\\n      return i;\\n    }, n.n = function (e) {\\n      var t = e && e.__esModule ? function () {\\n        return e.default;\\n      } : function () {\\n        return e;\\n      };\\n      return n.d(t, \"a\", t), t;\\n    }, n.o = function (e, t) {\\n      return Object.prototype.hasOwnProperty.call(e, t);\\n    }, n.p = \"\", n(n.s = 0);\\n  }([function (e, t, n) {\\n    (function (t) {\\n      e.exports = t.Phoenix = n(2);\\n    }).call(this, n(1));\\n  }, function (e, t) {\\n    var n;\\n\\n    n = function () {\\n      return this;\\n    }();\\n\\n    try {\\n      n = n || new Function(\"return this\")();\\n    } catch (e) {\\n      \"object\" == typeof window && (n = window);\\n    }\\n\\n    e.exports = n;\\n  }, function (e, t, n) {\\n    \"use strict\";\\n\\n    function i(e) {\\n      return function (e) {\\n        if (Array.isArray(e)) return a(e);\\n      }(e) || function (e) {\\n        if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\\n      }(e) || s(e) || function () {\\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\\n      }();\\n    }\\n\\n    function o(e) {\\n      return (o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\\n        return typeof e;\\n      } : function (e) {\\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\\n      })(e);\\n    }\\n\\n    function r(e, t) {\\n      return function (e) {\\n        if (Array.isArray(e)) return e;\\n      }(e) || function (e, t) {\\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\\n        var n = [],\\n            i = !0,\\n            o = !1,\\n            r = void 0;\\n\\n        try {\\n          for (var s, a = e[Symbol.iterator](); !(i = (s = a.next()).done) && (n.push(s.value), !t || n.length !== t); i = !0);\\n        } catch (e) {\\n          o = !0, r = e;\\n        } finally {\\n          try {\\n            i || null == a.return || a.return();\\n          } finally {\\n            if (o) throw r;\\n          }\\n        }\\n\\n        return n;\\n      }(e, t) || s(e, t) || function () {\\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\\n      }();\\n    }\\n\\n    function s(e, t) {\\n      if (e) {\\n        if (\"string\" == typeof e) return a(e, t);\\n        var n = Object.prototype.toString.call(e).slice(8, -1);\\n        return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(n) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? a(e, t) : void 0;\\n      }\\n    }\\n\\n    function a(e, t) {\\n      (null == t || t > e.length) && (t = e.length);\\n\\n      for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\\n\\n      return i;\\n    }\\n\\n    function c(e, t) {\\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\\n    }\\n\\n    function u(e, t) {\\n      for (var n = 0; n < t.length; n++) {\\n        var i = t[n];\\n        i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\\n      }\\n    }\\n\\n    function h(e, t, n) {\\n      return t && u(e.prototype, t), n && u(e, n), e;\\n    }\\n\\n    n.r(t), n.d(t, \"Channel\", function () {\\n      return A;\\n    }), n.d(t, \"Serializer\", function () {\\n      return M;\\n    }), n.d(t, \"Socket\", function () {\\n      return J;\\n    }), n.d(t, \"LongPoll\", function () {\\n      return H;\\n    }), n.d(t, \"Ajax\", function () {\\n      return D;\\n    }), n.d(t, \"Presence\", function () {\\n      return B;\\n    });\\n\\n    var l = \"undefined\" != typeof self ? self : null,\\n        f = \"undefined\" != typeof window ? window : null,\\n        d = l || f || void 0,\\n        p = 0,\\n        v = 1,\\n        y = 2,\\n        m = 3,\\n        g = \"closed\",\\n        k = \"errored\",\\n        b = \"joined\",\\n        j = \"joining\",\\n        C = \"leaving\",\\n        R = \"phx_close\",\\n        S = \"phx_error\",\\n        T = \"phx_join\",\\n        w = \"phx_reply\",\\n        E = \"phx_leave\",\\n        x = [R, S, T, w, E],\\n        O = \"longpoll\",\\n        P = \"websocket\",\\n        L = function (e) {\\n      if (\"function\" == typeof e) return e;\\n      return function () {\\n        return e;\\n      };\\n    },\\n        _ = function () {\\n      function e(t, n, i, o) {\\n        c(this, e), this.channel = t, this.event = n, this.payload = i || function () {\\n          return {};\\n        }, this.receivedResp = null, this.timeout = o, this.timeoutTimer = null, this.recHooks = [], this.sent = !1;\\n      }\\n\\n      return h(e, [{\\n        key: \"resend\",\\n        value: function (e) {\\n          this.timeout = e, this.reset(), this.send();\\n        }\\n      }, {\\n        key: \"send\",\\n        value: function () {\\n          this.hasReceived(\"timeout\") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({\\n            topic: this.channel.topic,\\n            event: this.event,\\n            payload: this.payload(),\\n            ref: this.ref,\\n            join_ref: this.channel.joinRef()\\n          }));\\n        }\\n      }, {\\n        key: \"receive\",\\n        value: function (e, t) {\\n          return this.hasReceived(e) && t(this.receivedResp.response), this.recHooks.push({\\n            status: e,\\n            callback: t\\n          }), this;\\n        }\\n      }, {\\n        key: \"reset\",\\n        value: function () {\\n          this.cancelRefEvent(), this.ref = null, this.refEvent = null, this.receivedResp = null, this.sent = !1;\\n        }\\n      }, {\\n        key: \"matchReceive\",\\n        value: function (e) {\\n          var t = e.status,\\n              n = e.response;\\n          e.ref;\\n          this.recHooks.filter(function (e) {\\n            return e.status === t;\\n          }).forEach(function (e) {\\n            return e.callback(n);\\n          });\\n        }\\n      }, {\\n        key: \"cancelRefEvent\",\\n        value: function () {\\n          this.refEvent && this.channel.off(this.refEvent);\\n        }\\n      }, {\\n        key: \"cancelTimeout\",\\n        value: function () {\\n          clearTimeout(this.timeoutTimer), this.timeoutTimer = null;\\n        }\\n      }, {\\n        key: \"startTimeout\",\\n        value: function () {\\n          var e = this;\\n          this.timeoutTimer && this.cancelTimeout(), this.ref = this.channel.socket.makeRef(), this.refEvent = this.channel.replyEventName(this.ref), this.channel.on(this.refEvent, function (t) {\\n            e.cancelRefEvent(), e.cancelTimeout(), e.receivedResp = t, e.matchReceive(t);\\n          }), this.timeoutTimer = setTimeout(function () {\\n            e.trigger(\"timeout\", {});\\n          }, this.timeout);\\n        }\\n      }, {\\n        key: \"hasReceived\",\\n        value: function (e) {\\n          return this.receivedResp && this.receivedResp.status === e;\\n        }\\n      }, {\\n        key: \"trigger\",\\n        value: function (e, t) {\\n          this.channel.trigger(this.refEvent, {\\n            status: e,\\n            response: t\\n          });\\n        }\\n      }]), e;\\n    }(),\\n        A = function () {\\n      function e(t, n, i) {\\n        var o = this;\\n        c(this, e), this.state = g, this.topic = t, this.params = L(n || {}), this.socket = i, this.bindings = [], this.bindingRef = 0, this.timeout = this.socket.timeout, this.joinedOnce = !1, this.joinPush = new _(this, T, this.params, this.timeout), this.pushBuffer = [], this.stateChangeRefs = [], this.rejoinTimer = new I(function () {\\n          o.socket.isConnected() && o.rejoin();\\n        }, this.socket.rejoinAfterMs), this.stateChangeRefs.push(this.socket.onError(function () {\\n          return o.rejoinTimer.reset();\\n        })), this.stateChangeRefs.push(this.socket.onOpen(function () {\\n          o.rejoinTimer.reset(), o.isErrored() && o.rejoin();\\n        })), this.joinPush.receive(\"ok\", function () {\\n          o.state = b, o.rejoinTimer.reset(), o.pushBuffer.forEach(function (e) {\\n            return e.send();\\n          }), o.pushBuffer = [];\\n        }), this.joinPush.receive(\"error\", function () {\\n          o.state = k, o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\\n        }), this.onClose(function () {\\n          o.rejoinTimer.reset(), o.socket.hasLogger() && o.socket.log(\"channel\", \"close \".concat(o.topic, \" \").concat(o.joinRef())), o.state = g, o.socket.remove(o);\\n        }), this.onError(function (e) {\\n          o.socket.hasLogger() && o.socket.log(\"channel\", \"error \".concat(o.topic), e), o.isJoining() && o.joinPush.reset(), o.state = k, o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\\n        }), this.joinPush.receive(\"timeout\", function () {\\n          o.socket.hasLogger() && o.socket.log(\"channel\", \"timeout \".concat(o.topic, \" (\").concat(o.joinRef(), \")\"), o.joinPush.timeout), new _(o, E, L({}), o.timeout).send(), o.state = k, o.joinPush.reset(), o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\\n        }), this.on(w, function (e, t) {\\n          o.trigger(o.replyEventName(t), e);\\n        });\\n      }\\n\\n      return h(e, [{\\n        key: \"join\",\\n        value: function () {\\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\\n          if (this.joinedOnce) throw new Error(\"tried to join multiple times. \\'join\\' can only be called a single time per channel instance\");\\n          return this.timeout = e, this.joinedOnce = !0, this.rejoin(), this.joinPush;\\n        }\\n      }, {\\n        key: \"onClose\",\\n        value: function (e) {\\n          this.on(R, e);\\n        }\\n      }, {\\n        key: \"onError\",\\n        value: function (e) {\\n          return this.on(S, function (t) {\\n            return e(t);\\n          });\\n        }\\n      }, {\\n        key: \"on\",\\n        value: function (e, t) {\\n          var n = this.bindingRef++;\\n          return this.bindings.push({\\n            event: e,\\n            ref: n,\\n            callback: t\\n          }), n;\\n        }\\n      }, {\\n        key: \"off\",\\n        value: function (e, t) {\\n          this.bindings = this.bindings.filter(function (n) {\\n            return !(n.event === e && (void 0 === t || t === n.ref));\\n          });\\n        }\\n      }, {\\n        key: \"canPush\",\\n        value: function () {\\n          return this.socket.isConnected() && this.isJoined();\\n        }\\n      }, {\\n        key: \"push\",\\n        value: function (e, t) {\\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.timeout;\\n          if (!this.joinedOnce) throw new Error(\"tried to push \\'\".concat(e, \"\\' to \\'\").concat(this.topic, \"\\' before joining. Use channel.join() before pushing events\"));\\n          var i = new _(this, e, function () {\\n            return t;\\n          }, n);\\n          return this.canPush() ? i.send() : (i.startTimeout(), this.pushBuffer.push(i)), i;\\n        }\\n      }, {\\n        key: \"leave\",\\n        value: function () {\\n          var e = this,\\n              t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\\n          this.rejoinTimer.reset(), this.joinPush.cancelTimeout(), this.state = C;\\n\\n          var n = function () {\\n            e.socket.hasLogger() && e.socket.log(\"channel\", \"leave \".concat(e.topic)), e.trigger(R, \"leave\");\\n          },\\n              i = new _(this, E, L({}), t);\\n\\n          return i.receive(\"ok\", function () {\\n            return n();\\n          }).receive(\"timeout\", function () {\\n            return n();\\n          }), i.send(), this.canPush() || i.trigger(\"ok\", {}), i;\\n        }\\n      }, {\\n        key: \"onMessage\",\\n        value: function (e, t, n) {\\n          return t;\\n        }\\n      }, {\\n        key: \"isLifecycleEvent\",\\n        value: function (e) {\\n          return x.indexOf(e) >= 0;\\n        }\\n      }, {\\n        key: \"isMember\",\\n        value: function (e, t, n, i) {\\n          return this.topic === e && (!i || i === this.joinRef() || !this.isLifecycleEvent(t) || (this.socket.hasLogger() && this.socket.log(\"channel\", \"dropping outdated message\", {\\n            topic: e,\\n            event: t,\\n            payload: n,\\n            joinRef: i\\n          }), !1));\\n        }\\n      }, {\\n        key: \"joinRef\",\\n        value: function () {\\n          return this.joinPush.ref;\\n        }\\n      }, {\\n        key: \"rejoin\",\\n        value: function () {\\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\\n          this.isLeaving() || (this.socket.leaveOpenTopic(this.topic), this.state = j, this.joinPush.resend(e));\\n        }\\n      }, {\\n        key: \"trigger\",\\n        value: function (e, t, n, i) {\\n          var o = this.onMessage(e, t, n, i);\\n          if (t && !o) throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\");\\n\\n          for (var r = this.bindings.filter(function (t) {\\n            return t.event === e;\\n          }), s = 0; s < r.length; s++) {\\n            r[s].callback(o, n, i || this.joinRef());\\n          }\\n        }\\n      }, {\\n        key: \"replyEventName\",\\n        value: function (e) {\\n          return \"chan_reply_\".concat(e);\\n        }\\n      }, {\\n        key: \"isClosed\",\\n        value: function () {\\n          return this.state === g;\\n        }\\n      }, {\\n        key: \"isErrored\",\\n        value: function () {\\n          return this.state === k;\\n        }\\n      }, {\\n        key: \"isJoined\",\\n        value: function () {\\n          return this.state === b;\\n        }\\n      }, {\\n        key: \"isJoining\",\\n        value: function () {\\n          return this.state === j;\\n        }\\n      }, {\\n        key: \"isLeaving\",\\n        value: function () {\\n          return this.state === C;\\n        }\\n      }]), e;\\n    }(),\\n        M = {\\n      encode: function (e, t) {\\n        var n = [e.join_ref, e.ref, e.topic, e.event, e.payload];\\n        return t(JSON.stringify(n));\\n      },\\n      decode: function (e, t) {\\n        var n = r(JSON.parse(e), 5);\\n        return t({\\n          join_ref: n[0],\\n          ref: n[1],\\n          topic: n[2],\\n          event: n[3],\\n          payload: n[4]\\n        });\\n      }\\n    },\\n        J = function () {\\n      function e(t) {\\n        var n = this,\\n            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\\n        c(this, e), this.stateChangeCallbacks = {\\n          open: [],\\n          close: [],\\n          error: [],\\n          message: []\\n        }, this.channels = [], this.sendBuffer = [], this.ref = 0, this.timeout = i.timeout || 1e4, this.transport = i.transport || d.WebSocket || H, this.defaultEncoder = M.encode, this.defaultDecoder = M.decode, this.closeWasClean = !1, this.unloaded = !1, this.binaryType = i.binaryType || \"arraybuffer\", this.transport !== H ? (this.encode = i.encode || this.defaultEncoder, this.decode = i.decode || this.defaultDecoder) : (this.encode = this.defaultEncoder, this.decode = this.defaultDecoder), f && f.addEventListener && f.addEventListener(\"unload\", function (e) {\\n          n.conn && (n.unloaded = !0, n.abnormalClose(\"unloaded\"));\\n        }), this.heartbeatIntervalMs = i.heartbeatIntervalMs || 3e4, this.rejoinAfterMs = function (e) {\\n          return i.rejoinAfterMs ? i.rejoinAfterMs(e) : [1e3, 2e3, 5e3][e - 1] || 1e4;\\n        }, this.reconnectAfterMs = function (e) {\\n          return n.unloaded ? 100 : i.reconnectAfterMs ? i.reconnectAfterMs(e) : [10, 50, 100, 150, 200, 250, 500, 1e3, 2e3][e - 1] || 5e3;\\n        }, this.logger = i.logger || null, this.longpollerTimeout = i.longpollerTimeout || 2e4, this.params = L(i.params || {}), this.endPoint = \"\".concat(t, \"/\").concat(P), this.vsn = i.vsn || \"2.0.0\", this.heartbeatTimer = null, this.pendingHeartbeatRef = null, this.reconnectTimer = new I(function () {\\n          n.teardown(function () {\\n            return n.connect();\\n          });\\n        }, this.reconnectAfterMs);\\n      }\\n\\n      return h(e, [{\\n        key: \"protocol\",\\n        value: function () {\\n          return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\\n        }\\n      }, {\\n        key: \"endPointURL\",\\n        value: function () {\\n          var e = D.appendParams(D.appendParams(this.endPoint, this.params()), {\\n            vsn: this.vsn\\n          });\\n          return \"/\" !== e.charAt(0) ? e : \"/\" === e.charAt(1) ? \"\".concat(this.protocol(), \":\").concat(e) : \"\".concat(this.protocol(), \"://\").concat(location.host).concat(e);\\n        }\\n      }, {\\n        key: \"disconnect\",\\n        value: function (e, t, n) {\\n          this.closeWasClean = !0, this.reconnectTimer.reset(), this.teardown(e, t, n);\\n        }\\n      }, {\\n        key: \"connect\",\\n        value: function (e) {\\n          var t = this;\\n          e && (console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"), this.params = L(e)), this.conn || (this.closeWasClean = !1, this.conn = new this.transport(this.endPointURL()), this.conn.binaryType = this.binaryType, this.conn.timeout = this.longpollerTimeout, this.conn.onopen = function () {\\n            return t.onConnOpen();\\n          }, this.conn.onerror = function (e) {\\n            return t.onConnError(e);\\n          }, this.conn.onmessage = function (e) {\\n            return t.onConnMessage(e);\\n          }, this.conn.onclose = function (e) {\\n            return t.onConnClose(e);\\n          });\\n        }\\n      }, {\\n        key: \"log\",\\n        value: function (e, t, n) {\\n          this.logger(e, t, n);\\n        }\\n      }, {\\n        key: \"hasLogger\",\\n        value: function () {\\n          return null !== this.logger;\\n        }\\n      }, {\\n        key: \"onOpen\",\\n        value: function (e) {\\n          var t = this.makeRef();\\n          return this.stateChangeCallbacks.open.push([t, e]), t;\\n        }\\n      }, {\\n        key: \"onClose\",\\n        value: function (e) {\\n          var t = this.makeRef();\\n          return this.stateChangeCallbacks.close.push([t, e]), t;\\n        }\\n      }, {\\n        key: \"onError\",\\n        value: function (e) {\\n          var t = this.makeRef();\\n          return this.stateChangeCallbacks.error.push([t, e]), t;\\n        }\\n      }, {\\n        key: \"onMessage\",\\n        value: function (e) {\\n          var t = this.makeRef();\\n          return this.stateChangeCallbacks.message.push([t, e]), t;\\n        }\\n      }, {\\n        key: \"onConnOpen\",\\n        value: function () {\\n          this.hasLogger() && this.log(\"transport\", \"connected to \".concat(this.endPointURL())), this.unloaded = !1, this.closeWasClean = !1, this.flushSendBuffer(), this.reconnectTimer.reset(), this.resetHeartbeat(), this.stateChangeCallbacks.open.forEach(function (e) {\\n            return (0, r(e, 2)[1])();\\n          });\\n        }\\n      }, {\\n        key: \"resetHeartbeat\",\\n        value: function () {\\n          var e = this;\\n          this.conn && this.conn.skipHeartbeat || (this.pendingHeartbeatRef = null, clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(function () {\\n            return e.sendHeartbeat();\\n          }, this.heartbeatIntervalMs));\\n        }\\n      }, {\\n        key: \"teardown\",\\n        value: function (e, t, n) {\\n          var i = this;\\n          if (!this.conn) return e && e();\\n          this.waitForBufferDone(function () {\\n            i.conn && (t ? i.conn.close(t, n || \"\") : i.conn.close()), i.waitForSocketClosed(function () {\\n              i.conn && (i.conn.onclose = function () {}, i.conn = null), e && e();\\n            });\\n          });\\n        }\\n      }, {\\n        key: \"waitForBufferDone\",\\n        value: function (e) {\\n          var t = this,\\n              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;\\n          5 !== n && this.conn && this.conn.bufferedAmount ? setTimeout(function () {\\n            t.waitForBufferDone(e, n + 1);\\n          }, 150 * n) : e();\\n        }\\n      }, {\\n        key: \"waitForSocketClosed\",\\n        value: function (e) {\\n          var t = this,\\n              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;\\n          5 !== n && this.conn && this.conn.readyState !== m ? setTimeout(function () {\\n            t.waitForSocketClosed(e, n + 1);\\n          }, 150 * n) : e();\\n        }\\n      }, {\\n        key: \"onConnClose\",\\n        value: function (e) {\\n          this.hasLogger() && this.log(\"transport\", \"close\", e), this.triggerChanError(), clearInterval(this.heartbeatTimer), this.closeWasClean || this.reconnectTimer.scheduleTimeout(), this.stateChangeCallbacks.close.forEach(function (t) {\\n            return (0, r(t, 2)[1])(e);\\n          });\\n        }\\n      }, {\\n        key: \"onConnError\",\\n        value: function (e) {\\n          this.hasLogger() && this.log(\"transport\", e), this.triggerChanError(), this.stateChangeCallbacks.error.forEach(function (t) {\\n            return (0, r(t, 2)[1])(e);\\n          });\\n        }\\n      }, {\\n        key: \"triggerChanError\",\\n        value: function () {\\n          this.channels.forEach(function (e) {\\n            e.isErrored() || e.isLeaving() || e.isClosed() || e.trigger(S);\\n          });\\n        }\\n      }, {\\n        key: \"connectionState\",\\n        value: function () {\\n          switch (this.conn && this.conn.readyState) {\\n            case p:\\n              return \"connecting\";\\n\\n            case v:\\n              return \"open\";\\n\\n            case y:\\n              return \"closing\";\\n\\n            default:\\n              return \"closed\";\\n          }\\n        }\\n      }, {\\n        key: \"isConnected\",\\n        value: function () {\\n          return \"open\" === this.connectionState();\\n        }\\n      }, {\\n        key: \"remove\",\\n        value: function (e) {\\n          this.off(e.stateChangeRefs), this.channels = this.channels.filter(function (t) {\\n            return t.joinRef() !== e.joinRef();\\n          });\\n        }\\n      }, {\\n        key: \"off\",\\n        value: function (e) {\\n          for (var t in this.stateChangeCallbacks) this.stateChangeCallbacks[t] = this.stateChangeCallbacks[t].filter(function (t) {\\n            var n = r(t, 1)[0];\\n            return -1 === e.indexOf(n);\\n          });\\n        }\\n      }, {\\n        key: \"channel\",\\n        value: function (e) {\\n          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\\n              n = new A(e, t, this);\\n          return this.channels.push(n), n;\\n        }\\n      }, {\\n        key: \"push\",\\n        value: function (e) {\\n          var t = this;\\n\\n          if (this.hasLogger()) {\\n            var n = e.topic,\\n                i = e.event,\\n                o = e.payload,\\n                r = e.ref,\\n                s = e.join_ref;\\n            this.log(\"push\", \"\".concat(n, \" \").concat(i, \" (\").concat(s, \", \").concat(r, \")\"), o);\\n          }\\n\\n          this.isConnected() ? this.encode(e, function (e) {\\n            return t.conn.send(e);\\n          }) : this.sendBuffer.push(function () {\\n            return t.encode(e, function (e) {\\n              return t.conn.send(e);\\n            });\\n          });\\n        }\\n      }, {\\n        key: \"makeRef\",\\n        value: function () {\\n          var e = this.ref + 1;\\n          return e === this.ref ? this.ref = 0 : this.ref = e, this.ref.toString();\\n        }\\n      }, {\\n        key: \"sendHeartbeat\",\\n        value: function () {\\n          if (this.isConnected()) {\\n            if (this.pendingHeartbeatRef) return this.pendingHeartbeatRef = null, this.hasLogger() && this.log(\"transport\", \"heartbeat timeout. Attempting to re-establish connection\"), void this.abnormalClose(\"heartbeat timeout\");\\n            this.pendingHeartbeatRef = this.makeRef(), this.push({\\n              topic: \"phoenix\",\\n              event: \"heartbeat\",\\n              payload: {},\\n              ref: this.pendingHeartbeatRef\\n            });\\n          }\\n        }\\n      }, {\\n        key: \"abnormalClose\",\\n        value: function (e) {\\n          this.closeWasClean = !1, this.conn.close(1e3, e);\\n        }\\n      }, {\\n        key: \"flushSendBuffer\",\\n        value: function () {\\n          this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(function (e) {\\n            return e();\\n          }), this.sendBuffer = []);\\n        }\\n      }, {\\n        key: \"onConnMessage\",\\n        value: function (e) {\\n          var t = this;\\n          this.decode(e.data, function (e) {\\n            var n = e.topic,\\n                i = e.event,\\n                o = e.payload,\\n                s = e.ref,\\n                a = e.join_ref;\\n            s && s === t.pendingHeartbeatRef && (t.pendingHeartbeatRef = null), t.hasLogger() && t.log(\"receive\", \"\".concat(o.status || \"\", \" \").concat(n, \" \").concat(i, \" \").concat(s && \"(\" + s + \")\" || \"\"), o);\\n\\n            for (var c = 0; c < t.channels.length; c++) {\\n              var u = t.channels[c];\\n              u.isMember(n, i, o, a) && u.trigger(i, o, s, a);\\n            }\\n\\n            for (var h = 0; h < t.stateChangeCallbacks.message.length; h++) {\\n              (0, r(t.stateChangeCallbacks.message[h], 2)[1])(e);\\n            }\\n          });\\n        }\\n      }, {\\n        key: \"leaveOpenTopic\",\\n        value: function (e) {\\n          var t = this.channels.find(function (t) {\\n            return t.topic === e && (t.isJoined() || t.isJoining());\\n          });\\n          t && (this.hasLogger() && this.log(\"transport\", \\'leaving duplicate topic \"\\'.concat(e, \\'\"\\')), t.leave());\\n        }\\n      }]), e;\\n    }(),\\n        H = function () {\\n      function e(t) {\\n        c(this, e), this.endPoint = null, this.token = null, this.skipHeartbeat = !0, this.onopen = function () {}, this.onerror = function () {}, this.onmessage = function () {}, this.onclose = function () {}, this.pollEndpoint = this.normalizeEndpoint(t), this.readyState = p, this.poll();\\n      }\\n\\n      return h(e, [{\\n        key: \"normalizeEndpoint\",\\n        value: function (e) {\\n          return e.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\").replace(new RegExp(\"(.*)/\" + P), \"$1/\" + O);\\n        }\\n      }, {\\n        key: \"endpointURL\",\\n        value: function () {\\n          return D.appendParams(this.pollEndpoint, {\\n            token: this.token\\n          });\\n        }\\n      }, {\\n        key: \"closeAndRetry\",\\n        value: function () {\\n          this.close(), this.readyState = p;\\n        }\\n      }, {\\n        key: \"ontimeout\",\\n        value: function () {\\n          this.onerror(\"timeout\"), this.closeAndRetry();\\n        }\\n      }, {\\n        key: \"poll\",\\n        value: function () {\\n          var e = this;\\n          this.readyState !== v && this.readyState !== p || D.request(\"GET\", this.endpointURL(), \"application/json\", null, this.timeout, this.ontimeout.bind(this), function (t) {\\n            if (t) {\\n              var n = t.status,\\n                  i = t.token,\\n                  o = t.messages;\\n              e.token = i;\\n            } else n = 0;\\n\\n            switch (n) {\\n              case 200:\\n                o.forEach(function (t) {\\n                  return e.onmessage({\\n                    data: t\\n                  });\\n                }), e.poll();\\n                break;\\n\\n              case 204:\\n                e.poll();\\n                break;\\n\\n              case 410:\\n                e.readyState = v, e.onopen(), e.poll();\\n                break;\\n\\n              case 403:\\n                e.onerror(), e.close();\\n                break;\\n\\n              case 0:\\n              case 500:\\n                e.onerror(), e.closeAndRetry();\\n                break;\\n\\n              default:\\n                throw new Error(\"unhandled poll status \".concat(n));\\n            }\\n          });\\n        }\\n      }, {\\n        key: \"send\",\\n        value: function (e) {\\n          var t = this;\\n          D.request(\"POST\", this.endpointURL(), \"application/json\", e, this.timeout, this.onerror.bind(this, \"timeout\"), function (e) {\\n            e && 200 === e.status || (t.onerror(e && e.status), t.closeAndRetry());\\n          });\\n        }\\n      }, {\\n        key: \"close\",\\n        value: function (e, t) {\\n          this.readyState = m, this.onclose();\\n        }\\n      }]), e;\\n    }(),\\n        D = function () {\\n      function e() {\\n        c(this, e);\\n      }\\n\\n      return h(e, null, [{\\n        key: \"request\",\\n        value: function (e, t, n, i, o, r, s) {\\n          if (d.XDomainRequest) {\\n            var a = new XDomainRequest();\\n            this.xdomainRequest(a, e, t, i, o, r, s);\\n          } else {\\n            var c = new d.XMLHttpRequest();\\n            this.xhrRequest(c, e, t, n, i, o, r, s);\\n          }\\n        }\\n      }, {\\n        key: \"xdomainRequest\",\\n        value: function (e, t, n, i, o, r, s) {\\n          var a = this;\\n          e.timeout = o, e.open(t, n), e.onload = function () {\\n            var t = a.parseJSON(e.responseText);\\n            s && s(t);\\n          }, r && (e.ontimeout = r), e.onprogress = function () {}, e.send(i);\\n        }\\n      }, {\\n        key: \"xhrRequest\",\\n        value: function (e, t, n, i, o, r, s, a) {\\n          var c = this;\\n          e.open(t, n, !0), e.timeout = r, e.setRequestHeader(\"Content-Type\", i), e.onerror = function () {\\n            a && a(null);\\n          }, e.onreadystatechange = function () {\\n            if (e.readyState === c.states.complete && a) {\\n              var t = c.parseJSON(e.responseText);\\n              a(t);\\n            }\\n          }, s && (e.ontimeout = s), e.send(o);\\n        }\\n      }, {\\n        key: \"parseJSON\",\\n        value: function (e) {\\n          if (!e || \"\" === e) return null;\\n\\n          try {\\n            return JSON.parse(e);\\n          } catch (t) {\\n            return console && console.log(\"failed to parse JSON response\", e), null;\\n          }\\n        }\\n      }, {\\n        key: \"serialize\",\\n        value: function (e, t) {\\n          var n = [];\\n\\n          for (var i in e) if (e.hasOwnProperty(i)) {\\n            var r = t ? \"\".concat(t, \"[\").concat(i, \"]\") : i,\\n                s = e[i];\\n            \"object\" === o(s) ? n.push(this.serialize(s, r)) : n.push(encodeURIComponent(r) + \"=\" + encodeURIComponent(s));\\n          }\\n\\n          return n.join(\"&\");\\n        }\\n      }, {\\n        key: \"appendParams\",\\n        value: function (e, t) {\\n          if (0 === Object.keys(t).length) return e;\\n          var n = e.match(/\\\\?/) ? \"&\" : \"?\";\\n          return \"\".concat(e).concat(n).concat(this.serialize(t));\\n        }\\n      }]), e;\\n    }();\\n\\n    D.states = {\\n      complete: 4\\n    };\\n\\n    var B = function () {\\n      function e(t) {\\n        var n = this,\\n            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\\n        c(this, e);\\n        var o = i.events || {\\n          state: \"presence_state\",\\n          diff: \"presence_diff\"\\n        };\\n        this.state = {}, this.pendingDiffs = [], this.channel = t, this.joinRef = null, this.caller = {\\n          onJoin: function () {},\\n          onLeave: function () {},\\n          onSync: function () {}\\n        }, this.channel.on(o.state, function (t) {\\n          var i = n.caller,\\n              o = i.onJoin,\\n              r = i.onLeave,\\n              s = i.onSync;\\n          n.joinRef = n.channel.joinRef(), n.state = e.syncState(n.state, t, o, r), n.pendingDiffs.forEach(function (t) {\\n            n.state = e.syncDiff(n.state, t, o, r);\\n          }), n.pendingDiffs = [], s();\\n        }), this.channel.on(o.diff, function (t) {\\n          var i = n.caller,\\n              o = i.onJoin,\\n              r = i.onLeave,\\n              s = i.onSync;\\n          n.inPendingSyncState() ? n.pendingDiffs.push(t) : (n.state = e.syncDiff(n.state, t, o, r), s());\\n        });\\n      }\\n\\n      return h(e, [{\\n        key: \"onJoin\",\\n        value: function (e) {\\n          this.caller.onJoin = e;\\n        }\\n      }, {\\n        key: \"onLeave\",\\n        value: function (e) {\\n          this.caller.onLeave = e;\\n        }\\n      }, {\\n        key: \"onSync\",\\n        value: function (e) {\\n          this.caller.onSync = e;\\n        }\\n      }, {\\n        key: \"list\",\\n        value: function (t) {\\n          return e.list(this.state, t);\\n        }\\n      }, {\\n        key: \"inPendingSyncState\",\\n        value: function () {\\n          return !this.joinRef || this.joinRef !== this.channel.joinRef();\\n        }\\n      }], [{\\n        key: \"syncState\",\\n        value: function (e, t, n, i) {\\n          var o = this,\\n              r = this.clone(e),\\n              s = {},\\n              a = {};\\n          return this.map(r, function (e, n) {\\n            t[e] || (a[e] = n);\\n          }), this.map(t, function (e, t) {\\n            var n = r[e];\\n\\n            if (n) {\\n              var i = t.metas.map(function (e) {\\n                return e.phx_ref;\\n              }),\\n                  c = n.metas.map(function (e) {\\n                return e.phx_ref;\\n              }),\\n                  u = t.metas.filter(function (e) {\\n                return c.indexOf(e.phx_ref) < 0;\\n              }),\\n                  h = n.metas.filter(function (e) {\\n                return i.indexOf(e.phx_ref) < 0;\\n              });\\n              u.length > 0 && (s[e] = t, s[e].metas = u), h.length > 0 && (a[e] = o.clone(n), a[e].metas = h);\\n            } else s[e] = t;\\n          }), this.syncDiff(r, {\\n            joins: s,\\n            leaves: a\\n          }, n, i);\\n        }\\n      }, {\\n        key: \"syncDiff\",\\n        value: function (e, t, n, o) {\\n          var r = t.joins,\\n              s = t.leaves,\\n              a = this.clone(e);\\n          return n || (n = function () {}), o || (o = function () {}), this.map(r, function (e, t) {\\n            var o = a[e];\\n\\n            if (a[e] = t, o) {\\n              var r,\\n                  s = a[e].metas.map(function (e) {\\n                return e.phx_ref;\\n              }),\\n                  c = o.metas.filter(function (e) {\\n                return s.indexOf(e.phx_ref) < 0;\\n              });\\n              (r = a[e].metas).unshift.apply(r, i(c));\\n            }\\n\\n            n(e, o, t);\\n          }), this.map(s, function (e, t) {\\n            var n = a[e];\\n\\n            if (n) {\\n              var i = t.metas.map(function (e) {\\n                return e.phx_ref;\\n              });\\n              n.metas = n.metas.filter(function (e) {\\n                return i.indexOf(e.phx_ref) < 0;\\n              }), o(e, n, t), 0 === n.metas.length && delete a[e];\\n            }\\n          }), a;\\n        }\\n      }, {\\n        key: \"list\",\\n        value: function (e, t) {\\n          return t || (t = function (e, t) {\\n            return t;\\n          }), this.map(e, function (e, n) {\\n            return t(e, n);\\n          });\\n        }\\n      }, {\\n        key: \"map\",\\n        value: function (e, t) {\\n          return Object.getOwnPropertyNames(e).map(function (n) {\\n            return t(n, e[n]);\\n          });\\n        }\\n      }, {\\n        key: \"clone\",\\n        value: function (e) {\\n          return JSON.parse(JSON.stringify(e));\\n        }\\n      }]), e;\\n    }(),\\n        I = function () {\\n      function e(t, n) {\\n        c(this, e), this.callback = t, this.timerCalc = n, this.timer = null, this.tries = 0;\\n      }\\n\\n      return h(e, [{\\n        key: \"reset\",\\n        value: function () {\\n          this.tries = 0, clearTimeout(this.timer);\\n        }\\n      }, {\\n        key: \"scheduleTimeout\",\\n        value: function () {\\n          var e = this;\\n          clearTimeout(this.timer), this.timer = setTimeout(function () {\\n            e.tries = e.tries + 1, e.callback();\\n          }, this.timerCalc(this.tries + 1));\\n        }\\n      }]), e;\\n    }();\\n  }]);\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9kZXBzL3Bob2VuaXgvcHJpdi9zdGF0aWMvcGhvZW5peC5qcz8zMWJiIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUGhvZW5peD10KCk6ZS5QaG9lbml4PXQoKX0odGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIG89dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKW4uZChpLG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxvKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz0wKX0oW2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7ZS5leHBvcnRzPXQuUGhvZW5peD1uKDIpfSkuY2FsbCh0aGlzLG4oMSkpfSxmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBhKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHMoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sfHwhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpKXJldHVybjt2YXIgbj1bXSxpPSEwLG89ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz1hLm5leHQoKSkuZG9uZSkmJihuLnB1c2gocy52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7aT0hMCk7fWNhdGNoKGUpe289ITAscj1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyByfX1yZXR1cm4gbn0oZSx0KXx8cyhlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gcyhlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBhKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKG4pOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9hKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBhKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAsaT1uZXcgQXJyYXkodCk7bjx0O24rKylpW25dPWVbbl07cmV0dXJuIGl9ZnVuY3Rpb24gYyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIHQmJnUoZS5wcm90b3R5cGUsdCksbiYmdShlLG4pLGV9bi5yKHQpLG4uZCh0LFwiQ2hhbm5lbFwiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LFwiU2VyaWFsaXplclwiLChmdW5jdGlvbigpe3JldHVybiBNfSkpLG4uZCh0LFwiU29ja2V0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSksbi5kKHQsXCJMb25nUG9sbFwiLChmdW5jdGlvbigpe3JldHVybiBIfSkpLG4uZCh0LFwiQWpheFwiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LFwiUHJlc2VuY2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKTt2YXIgbD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOm51bGwsZj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpudWxsLGQ9bHx8Znx8dm9pZCAwLHA9MCx2PTEseT0yLG09MyxnPVwiY2xvc2VkXCIsaz1cImVycm9yZWRcIixiPVwiam9pbmVkXCIsaj1cImpvaW5pbmdcIixDPVwibGVhdmluZ1wiLFI9XCJwaHhfY2xvc2VcIixTPVwicGh4X2Vycm9yXCIsVD1cInBoeF9qb2luXCIsdz1cInBoeF9yZXBseVwiLEU9XCJwaHhfbGVhdmVcIix4PVtSLFMsVCx3LEVdLE89XCJsb25ncG9sbFwiLFA9XCJ3ZWJzb2NrZXRcIixMPWZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSxvKXtjKHRoaXMsZSksdGhpcy5jaGFubmVsPXQsdGhpcy5ldmVudD1uLHRoaXMucGF5bG9hZD1pfHxmdW5jdGlvbigpe3JldHVybnt9fSx0aGlzLnJlY2VpdmVkUmVzcD1udWxsLHRoaXMudGltZW91dD1vLHRoaXMudGltZW91dFRpbWVyPW51bGwsdGhpcy5yZWNIb29rcz1bXSx0aGlzLnNlbnQ9ITF9cmV0dXJuIGgoZSxbe2tleTpcInJlc2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGltZW91dD1lLHRoaXMucmVzZXQoKSx0aGlzLnNlbmQoKX19LHtrZXk6XCJzZW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhc1JlY2VpdmVkKFwidGltZW91dFwiKXx8KHRoaXMuc3RhcnRUaW1lb3V0KCksdGhpcy5zZW50PSEwLHRoaXMuY2hhbm5lbC5zb2NrZXQucHVzaCh7dG9waWM6dGhpcy5jaGFubmVsLnRvcGljLGV2ZW50OnRoaXMuZXZlbnQscGF5bG9hZDp0aGlzLnBheWxvYWQoKSxyZWY6dGhpcy5yZWYsam9pbl9yZWY6dGhpcy5jaGFubmVsLmpvaW5SZWYoKX0pKX19LHtrZXk6XCJyZWNlaXZlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5oYXNSZWNlaXZlZChlKSYmdCh0aGlzLnJlY2VpdmVkUmVzcC5yZXNwb25zZSksdGhpcy5yZWNIb29rcy5wdXNoKHtzdGF0dXM6ZSxjYWxsYmFjazp0fSksdGhpc319LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxSZWZFdmVudCgpLHRoaXMucmVmPW51bGwsdGhpcy5yZWZFdmVudD1udWxsLHRoaXMucmVjZWl2ZWRSZXNwPW51bGwsdGhpcy5zZW50PSExfX0se2tleTpcIm1hdGNoUmVjZWl2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdHVzLG49ZS5yZXNwb25zZTtlLnJlZjt0aGlzLnJlY0hvb2tzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09dH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYWxsYmFjayhuKX0pKX19LHtrZXk6XCJjYW5jZWxSZWZFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZWZFdmVudCYmdGhpcy5jaGFubmVsLm9mZih0aGlzLnJlZkV2ZW50KX19LHtrZXk6XCJjYW5jZWxUaW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VGltZXIpLHRoaXMudGltZW91dFRpbWVyPW51bGx9fSx7a2V5Olwic3RhcnRUaW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudGltZW91dFRpbWVyJiZ0aGlzLmNhbmNlbFRpbWVvdXQoKSx0aGlzLnJlZj10aGlzLmNoYW5uZWwuc29ja2V0Lm1ha2VSZWYoKSx0aGlzLnJlZkV2ZW50PXRoaXMuY2hhbm5lbC5yZXBseUV2ZW50TmFtZSh0aGlzLnJlZiksdGhpcy5jaGFubmVsLm9uKHRoaXMucmVmRXZlbnQsKGZ1bmN0aW9uKHQpe2UuY2FuY2VsUmVmRXZlbnQoKSxlLmNhbmNlbFRpbWVvdXQoKSxlLnJlY2VpdmVkUmVzcD10LGUubWF0Y2hSZWNlaXZlKHQpfSkpLHRoaXMudGltZW91dFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKFwidGltZW91dFwiLHt9KX0pLHRoaXMudGltZW91dCl9fSx7a2V5OlwiaGFzUmVjZWl2ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZWNlaXZlZFJlc3AmJnRoaXMucmVjZWl2ZWRSZXNwLnN0YXR1cz09PWV9fSx7a2V5OlwidHJpZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jaGFubmVsLnRyaWdnZXIodGhpcy5yZWZFdmVudCx7c3RhdHVzOmUscmVzcG9uc2U6dH0pfX1dKSxlfSgpLEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpKXt2YXIgbz10aGlzO2ModGhpcyxlKSx0aGlzLnN0YXRlPWcsdGhpcy50b3BpYz10LHRoaXMucGFyYW1zPUwobnx8e30pLHRoaXMuc29ja2V0PWksdGhpcy5iaW5kaW5ncz1bXSx0aGlzLmJpbmRpbmdSZWY9MCx0aGlzLnRpbWVvdXQ9dGhpcy5zb2NrZXQudGltZW91dCx0aGlzLmpvaW5lZE9uY2U9ITEsdGhpcy5qb2luUHVzaD1uZXcgXyh0aGlzLFQsdGhpcy5wYXJhbXMsdGhpcy50aW1lb3V0KSx0aGlzLnB1c2hCdWZmZXI9W10sdGhpcy5zdGF0ZUNoYW5nZVJlZnM9W10sdGhpcy5yZWpvaW5UaW1lcj1uZXcgSSgoZnVuY3Rpb24oKXtvLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZvLnJlam9pbigpfSksdGhpcy5zb2NrZXQucmVqb2luQWZ0ZXJNcyksdGhpcy5zdGF0ZUNoYW5nZVJlZnMucHVzaCh0aGlzLnNvY2tldC5vbkVycm9yKChmdW5jdGlvbigpe3JldHVybiBvLnJlam9pblRpbWVyLnJlc2V0KCl9KSkpLHRoaXMuc3RhdGVDaGFuZ2VSZWZzLnB1c2godGhpcy5zb2NrZXQub25PcGVuKChmdW5jdGlvbigpe28ucmVqb2luVGltZXIucmVzZXQoKSxvLmlzRXJyb3JlZCgpJiZvLnJlam9pbigpfSkpKSx0aGlzLmpvaW5QdXNoLnJlY2VpdmUoXCJva1wiLChmdW5jdGlvbigpe28uc3RhdGU9YixvLnJlam9pblRpbWVyLnJlc2V0KCksby5wdXNoQnVmZmVyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmQoKX0pKSxvLnB1c2hCdWZmZXI9W119KSksdGhpcy5qb2luUHVzaC5yZWNlaXZlKFwiZXJyb3JcIiwoZnVuY3Rpb24oKXtvLnN0YXRlPWssby5zb2NrZXQuaXNDb25uZWN0ZWQoKSYmby5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKX0pKSx0aGlzLm9uQ2xvc2UoKGZ1bmN0aW9uKCl7by5yZWpvaW5UaW1lci5yZXNldCgpLG8uc29ja2V0Lmhhc0xvZ2dlcigpJiZvLnNvY2tldC5sb2coXCJjaGFubmVsXCIsXCJjbG9zZSBcIi5jb25jYXQoby50b3BpYyxcIiBcIikuY29uY2F0KG8uam9pblJlZigpKSksby5zdGF0ZT1nLG8uc29ja2V0LnJlbW92ZShvKX0pKSx0aGlzLm9uRXJyb3IoKGZ1bmN0aW9uKGUpe28uc29ja2V0Lmhhc0xvZ2dlcigpJiZvLnNvY2tldC5sb2coXCJjaGFubmVsXCIsXCJlcnJvciBcIi5jb25jYXQoby50b3BpYyksZSksby5pc0pvaW5pbmcoKSYmby5qb2luUHVzaC5yZXNldCgpLG8uc3RhdGU9ayxvLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZvLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpfSkpLHRoaXMuam9pblB1c2gucmVjZWl2ZShcInRpbWVvdXRcIiwoZnVuY3Rpb24oKXtvLnNvY2tldC5oYXNMb2dnZXIoKSYmby5zb2NrZXQubG9nKFwiY2hhbm5lbFwiLFwidGltZW91dCBcIi5jb25jYXQoby50b3BpYyxcIiAoXCIpLmNvbmNhdChvLmpvaW5SZWYoKSxcIilcIiksby5qb2luUHVzaC50aW1lb3V0KSxuZXcgXyhvLEUsTCh7fSksby50aW1lb3V0KS5zZW5kKCksby5zdGF0ZT1rLG8uam9pblB1c2gucmVzZXQoKSxvLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZvLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpfSkpLHRoaXMub24odywoZnVuY3Rpb24oZSx0KXtvLnRyaWdnZXIoby5yZXBseUV2ZW50TmFtZSh0KSxlKX0pKX1yZXR1cm4gaChlLFt7a2V5Olwiam9pblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMudGltZW91dDtpZih0aGlzLmpvaW5lZE9uY2UpdGhyb3cgbmV3IEVycm9yKFwidHJpZWQgdG8gam9pbiBtdWx0aXBsZSB0aW1lcy4gJ2pvaW4nIGNhbiBvbmx5IGJlIGNhbGxlZCBhIHNpbmdsZSB0aW1lIHBlciBjaGFubmVsIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLnRpbWVvdXQ9ZSx0aGlzLmpvaW5lZE9uY2U9ITAsdGhpcy5yZWpvaW4oKSx0aGlzLmpvaW5QdXNofX0se2tleTpcIm9uQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9uKFIsZSl9fSx7a2V5Olwib25FcnJvclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKFMsKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmJpbmRpbmdSZWYrKztyZXR1cm4gdGhpcy5iaW5kaW5ncy5wdXNoKHtldmVudDplLHJlZjpuLGNhbGxiYWNrOnR9KSxufX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIShuLmV2ZW50PT09ZSYmKHZvaWQgMD09PXR8fHQ9PT1uLnJlZikpfSkpfX0se2tleTpcImNhblB1c2hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZ0aGlzLmlzSm9pbmVkKCl9fSx7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMudGltZW91dDtpZighdGhpcy5qb2luZWRPbmNlKXRocm93IG5ldyBFcnJvcihcInRyaWVkIHRvIHB1c2ggJ1wiLmNvbmNhdChlLFwiJyB0byAnXCIpLmNvbmNhdCh0aGlzLnRvcGljLFwiJyBiZWZvcmUgam9pbmluZy4gVXNlIGNoYW5uZWwuam9pbigpIGJlZm9yZSBwdXNoaW5nIGV2ZW50c1wiKSk7dmFyIGk9bmV3IF8odGhpcyxlLChmdW5jdGlvbigpe3JldHVybiB0fSksbik7cmV0dXJuIHRoaXMuY2FuUHVzaCgpP2kuc2VuZCgpOihpLnN0YXJ0VGltZW91dCgpLHRoaXMucHVzaEJ1ZmZlci5wdXNoKGkpKSxpfX0se2tleTpcImxlYXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMudGltZW91dDt0aGlzLnJlam9pblRpbWVyLnJlc2V0KCksdGhpcy5qb2luUHVzaC5jYW5jZWxUaW1lb3V0KCksdGhpcy5zdGF0ZT1DO3ZhciBuPWZ1bmN0aW9uKCl7ZS5zb2NrZXQuaGFzTG9nZ2VyKCkmJmUuc29ja2V0LmxvZyhcImNoYW5uZWxcIixcImxlYXZlIFwiLmNvbmNhdChlLnRvcGljKSksZS50cmlnZ2VyKFIsXCJsZWF2ZVwiKX0saT1uZXcgXyh0aGlzLEUsTCh7fSksdCk7cmV0dXJuIGkucmVjZWl2ZShcIm9rXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKX0pKS5yZWNlaXZlKFwidGltZW91dFwiLChmdW5jdGlvbigpe3JldHVybiBuKCl9KSksaS5zZW5kKCksdGhpcy5jYW5QdXNoKCl8fGkudHJpZ2dlcihcIm9rXCIse30pLGl9fSx7a2V5Olwib25NZXNzYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0fX0se2tleTpcImlzTGlmZWN5Y2xlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4geC5pbmRleE9mKGUpPj0wfX0se2tleTpcImlzTWVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIHRoaXMudG9waWM9PT1lJiYoIWl8fGk9PT10aGlzLmpvaW5SZWYoKXx8IXRoaXMuaXNMaWZlY3ljbGVFdmVudCh0KXx8KHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpJiZ0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsXCJkcm9wcGluZyBvdXRkYXRlZCBtZXNzYWdlXCIse3RvcGljOmUsZXZlbnQ6dCxwYXlsb2FkOm4sam9pblJlZjppfSksITEpKX19LHtrZXk6XCJqb2luUmVmXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luUHVzaC5yZWZ9fSx7a2V5OlwicmVqb2luXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy50aW1lb3V0O3RoaXMuaXNMZWF2aW5nKCl8fCh0aGlzLnNvY2tldC5sZWF2ZU9wZW5Ub3BpYyh0aGlzLnRvcGljKSx0aGlzLnN0YXRlPWosdGhpcy5qb2luUHVzaC5yZXNlbmQoZSkpfX0se2tleTpcInRyaWdnZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXt2YXIgbz10aGlzLm9uTWVzc2FnZShlLHQsbixpKTtpZih0JiYhbyl0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsIG9uTWVzc2FnZSBjYWxsYmFja3MgbXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWRcIik7Zm9yKHZhciByPXRoaXMuYmluZGluZ3MuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ldmVudD09PWV9KSkscz0wO3M8ci5sZW5ndGg7cysrKXtyW3NdLmNhbGxiYWNrKG8sbixpfHx0aGlzLmpvaW5SZWYoKSl9fX0se2tleTpcInJlcGx5RXZlbnROYW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJjaGFuX3JlcGx5X1wiLmNvbmNhdChlKX19LHtrZXk6XCJpc0Nsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT1nfX0se2tleTpcImlzRXJyb3JlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT1rfX0se2tleTpcImlzSm9pbmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PWJ9fSx7a2V5OlwiaXNKb2luaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PWp9fSx7a2V5OlwiaXNMZWF2aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PUN9fV0pLGV9KCksTT17ZW5jb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W2Uuam9pbl9yZWYsZS5yZWYsZS50b3BpYyxlLmV2ZW50LGUucGF5bG9hZF07cmV0dXJuIHQoSlNPTi5zdHJpbmdpZnkobikpfSxkZWNvZGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yKEpTT04ucGFyc2UoZSksNSk7cmV0dXJuIHQoe2pvaW5fcmVmOm5bMF0scmVmOm5bMV0sdG9waWM6blsyXSxldmVudDpuWzNdLHBheWxvYWQ6bls0XX0pfX0sSj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjKHRoaXMsZSksdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcz17b3BlbjpbXSxjbG9zZTpbXSxlcnJvcjpbXSxtZXNzYWdlOltdfSx0aGlzLmNoYW5uZWxzPVtdLHRoaXMuc2VuZEJ1ZmZlcj1bXSx0aGlzLnJlZj0wLHRoaXMudGltZW91dD1pLnRpbWVvdXR8fDFlNCx0aGlzLnRyYW5zcG9ydD1pLnRyYW5zcG9ydHx8ZC5XZWJTb2NrZXR8fEgsdGhpcy5kZWZhdWx0RW5jb2Rlcj1NLmVuY29kZSx0aGlzLmRlZmF1bHREZWNvZGVyPU0uZGVjb2RlLHRoaXMuY2xvc2VXYXNDbGVhbj0hMSx0aGlzLnVubG9hZGVkPSExLHRoaXMuYmluYXJ5VHlwZT1pLmJpbmFyeVR5cGV8fFwiYXJyYXlidWZmZXJcIix0aGlzLnRyYW5zcG9ydCE9PUg/KHRoaXMuZW5jb2RlPWkuZW5jb2RlfHx0aGlzLmRlZmF1bHRFbmNvZGVyLHRoaXMuZGVjb2RlPWkuZGVjb2RlfHx0aGlzLmRlZmF1bHREZWNvZGVyKToodGhpcy5lbmNvZGU9dGhpcy5kZWZhdWx0RW5jb2Rlcix0aGlzLmRlY29kZT10aGlzLmRlZmF1bHREZWNvZGVyKSxmJiZmLmFkZEV2ZW50TGlzdGVuZXImJmYuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLChmdW5jdGlvbihlKXtuLmNvbm4mJihuLnVubG9hZGVkPSEwLG4uYWJub3JtYWxDbG9zZShcInVubG9hZGVkXCIpKX0pKSx0aGlzLmhlYXJ0YmVhdEludGVydmFsTXM9aS5oZWFydGJlYXRJbnRlcnZhbE1zfHwzZTQsdGhpcy5yZWpvaW5BZnRlck1zPWZ1bmN0aW9uKGUpe3JldHVybiBpLnJlam9pbkFmdGVyTXM/aS5yZWpvaW5BZnRlck1zKGUpOlsxZTMsMmUzLDVlM11bZS0xXXx8MWU0fSx0aGlzLnJlY29ubmVjdEFmdGVyTXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4udW5sb2FkZWQ/MTAwOmkucmVjb25uZWN0QWZ0ZXJNcz9pLnJlY29ubmVjdEFmdGVyTXMoZSk6WzEwLDUwLDEwMCwxNTAsMjAwLDI1MCw1MDAsMWUzLDJlM11bZS0xXXx8NWUzfSx0aGlzLmxvZ2dlcj1pLmxvZ2dlcnx8bnVsbCx0aGlzLmxvbmdwb2xsZXJUaW1lb3V0PWkubG9uZ3BvbGxlclRpbWVvdXR8fDJlNCx0aGlzLnBhcmFtcz1MKGkucGFyYW1zfHx7fSksdGhpcy5lbmRQb2ludD1cIlwiLmNvbmNhdCh0LFwiL1wiKS5jb25jYXQoUCksdGhpcy52c249aS52c258fFwiMi4wLjBcIix0aGlzLmhlYXJ0YmVhdFRpbWVyPW51bGwsdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmPW51bGwsdGhpcy5yZWNvbm5lY3RUaW1lcj1uZXcgSSgoZnVuY3Rpb24oKXtuLnRlYXJkb3duKChmdW5jdGlvbigpe3JldHVybiBuLmNvbm5lY3QoKX0pKX0pLHRoaXMucmVjb25uZWN0QWZ0ZXJNcyl9cmV0dXJuIGgoZSxbe2tleTpcInByb3RvY29sXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwcy8pP1wid3NzXCI6XCJ3c1wifX0se2tleTpcImVuZFBvaW50VVJMXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1ELmFwcGVuZFBhcmFtcyhELmFwcGVuZFBhcmFtcyh0aGlzLmVuZFBvaW50LHRoaXMucGFyYW1zKCkpLHt2c246dGhpcy52c259KTtyZXR1cm5cIi9cIiE9PWUuY2hhckF0KDApP2U6XCIvXCI9PT1lLmNoYXJBdCgxKT9cIlwiLmNvbmNhdCh0aGlzLnByb3RvY29sKCksXCI6XCIpLmNvbmNhdChlKTpcIlwiLmNvbmNhdCh0aGlzLnByb3RvY29sKCksXCI6Ly9cIikuY29uY2F0KGxvY2F0aW9uLmhvc3QpLmNvbmNhdChlKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuY2xvc2VXYXNDbGVhbj0hMCx0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KCksdGhpcy50ZWFyZG93bihlLHQsbil9fSx7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmKGNvbnNvbGUmJmNvbnNvbGUubG9nKFwicGFzc2luZyBwYXJhbXMgdG8gY29ubmVjdCBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkIHBhc3MgOnBhcmFtcyB0byB0aGUgU29ja2V0IGNvbnN0cnVjdG9yXCIpLHRoaXMucGFyYW1zPUwoZSkpLHRoaXMuY29ubnx8KHRoaXMuY2xvc2VXYXNDbGVhbj0hMSx0aGlzLmNvbm49bmV3IHRoaXMudHJhbnNwb3J0KHRoaXMuZW5kUG9pbnRVUkwoKSksdGhpcy5jb25uLmJpbmFyeVR5cGU9dGhpcy5iaW5hcnlUeXBlLHRoaXMuY29ubi50aW1lb3V0PXRoaXMubG9uZ3BvbGxlclRpbWVvdXQsdGhpcy5jb25uLm9ub3Blbj1mdW5jdGlvbigpe3JldHVybiB0Lm9uQ29ubk9wZW4oKX0sdGhpcy5jb25uLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Db25uRXJyb3IoZSl9LHRoaXMuY29ubi5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Db25uTWVzc2FnZShlKX0sdGhpcy5jb25uLm9uY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Db25uQ2xvc2UoZSl9KX19LHtrZXk6XCJsb2dcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5sb2dnZXIoZSx0LG4pfX0se2tleTpcImhhc0xvZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmxvZ2dlcn19LHtrZXk6XCJvbk9wZW5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1ha2VSZWYoKTtyZXR1cm4gdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5vcGVuLnB1c2goW3QsZV0pLHR9fSx7a2V5Olwib25DbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFrZVJlZigpO3JldHVybiB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmNsb3NlLnB1c2goW3QsZV0pLHR9fSx7a2V5Olwib25FcnJvclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFrZVJlZigpO3JldHVybiB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmVycm9yLnB1c2goW3QsZV0pLHR9fSx7a2V5Olwib25NZXNzYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tYWtlUmVmKCk7cmV0dXJuIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZS5wdXNoKFt0LGVdKSx0fX0se2tleTpcIm9uQ29ubk9wZW5cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGFzTG9nZ2VyKCkmJnRoaXMubG9nKFwidHJhbnNwb3J0XCIsXCJjb25uZWN0ZWQgdG8gXCIuY29uY2F0KHRoaXMuZW5kUG9pbnRVUkwoKSkpLHRoaXMudW5sb2FkZWQ9ITEsdGhpcy5jbG9zZVdhc0NsZWFuPSExLHRoaXMuZmx1c2hTZW5kQnVmZmVyKCksdGhpcy5yZWNvbm5lY3RUaW1lci5yZXNldCgpLHRoaXMucmVzZXRIZWFydGJlYXQoKSx0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm9wZW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuKDAscihlLDIpWzFdKSgpfSkpfX0se2tleTpcInJlc2V0SGVhcnRiZWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY29ubiYmdGhpcy5jb25uLnNraXBIZWFydGJlYXR8fCh0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWY9bnVsbCxjbGVhckludGVydmFsKHRoaXMuaGVhcnRiZWF0VGltZXIpLHRoaXMuaGVhcnRiZWF0VGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2VuZEhlYXJ0YmVhdCgpfSksdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zKSl9fSx7a2V5OlwidGVhcmRvd25cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztpZighdGhpcy5jb25uKXJldHVybiBlJiZlKCk7dGhpcy53YWl0Rm9yQnVmZmVyRG9uZSgoZnVuY3Rpb24oKXtpLmNvbm4mJih0P2kuY29ubi5jbG9zZSh0LG58fFwiXCIpOmkuY29ubi5jbG9zZSgpKSxpLndhaXRGb3JTb2NrZXRDbG9zZWQoKGZ1bmN0aW9uKCl7aS5jb25uJiYoaS5jb25uLm9uY2xvc2U9ZnVuY3Rpb24oKXt9LGkuY29ubj1udWxsKSxlJiZlKCl9KSl9KSl9fSx7a2V5Olwid2FpdEZvckJ1ZmZlckRvbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7NSE9PW4mJnRoaXMuY29ubiYmdGhpcy5jb25uLmJ1ZmZlcmVkQW1vdW50P3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53YWl0Rm9yQnVmZmVyRG9uZShlLG4rMSl9KSwxNTAqbik6ZSgpfX0se2tleTpcIndhaXRGb3JTb2NrZXRDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7NSE9PW4mJnRoaXMuY29ubiYmdGhpcy5jb25uLnJlYWR5U3RhdGUhPT1tP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53YWl0Rm9yU29ja2V0Q2xvc2VkKGUsbisxKX0pLDE1MCpuKTplKCl9fSx7a2V5Olwib25Db25uQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc0xvZ2dlcigpJiZ0aGlzLmxvZyhcInRyYW5zcG9ydFwiLFwiY2xvc2VcIixlKSx0aGlzLnRyaWdnZXJDaGFuRXJyb3IoKSxjbGVhckludGVydmFsKHRoaXMuaGVhcnRiZWF0VGltZXIpLHRoaXMuY2xvc2VXYXNDbGVhbnx8dGhpcy5yZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSx0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmNsb3NlLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybigwLHIodCwyKVsxXSkoZSl9KSl9fSx7a2V5Olwib25Db25uRXJyb3JcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc0xvZ2dlcigpJiZ0aGlzLmxvZyhcInRyYW5zcG9ydFwiLGUpLHRoaXMudHJpZ2dlckNoYW5FcnJvcigpLHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MuZXJyb3IuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuKDAscih0LDIpWzFdKShlKX0pKX19LHtrZXk6XCJ0cmlnZ2VyQ2hhbkVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNoYW5uZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaXNFcnJvcmVkKCl8fGUuaXNMZWF2aW5nKCl8fGUuaXNDbG9zZWQoKXx8ZS50cmlnZ2VyKFMpfSkpfX0se2tleTpcImNvbm5lY3Rpb25TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuY29ubiYmdGhpcy5jb25uLnJlYWR5U3RhdGUpe2Nhc2UgcDpyZXR1cm5cImNvbm5lY3RpbmdcIjtjYXNlIHY6cmV0dXJuXCJvcGVuXCI7Y2FzZSB5OnJldHVyblwiY2xvc2luZ1wiO2RlZmF1bHQ6cmV0dXJuXCJjbG9zZWRcIn19fSx7a2V5OlwiaXNDb25uZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwib3BlblwiPT09dGhpcy5jb25uZWN0aW9uU3RhdGUoKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9mZihlLnN0YXRlQ2hhbmdlUmVmcyksdGhpcy5jaGFubmVscz10aGlzLmNoYW5uZWxzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuam9pblJlZigpIT09ZS5qb2luUmVmKCl9KSl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MpdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrc1t0XT10aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzW3RdLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIG49cih0LDEpWzBdO3JldHVybi0xPT09ZS5pbmRleE9mKG4pfSkpfX0se2tleTpcImNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1uZXcgQShlLHQsdGhpcyk7cmV0dXJuIHRoaXMuY2hhbm5lbHMucHVzaChuKSxufX0se2tleTpcInB1c2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuaGFzTG9nZ2VyKCkpe3ZhciBuPWUudG9waWMsaT1lLmV2ZW50LG89ZS5wYXlsb2FkLHI9ZS5yZWYscz1lLmpvaW5fcmVmO3RoaXMubG9nKFwicHVzaFwiLFwiXCIuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChpLFwiIChcIikuY29uY2F0KHMsXCIsIFwiKS5jb25jYXQocixcIilcIiksbyl9dGhpcy5pc0Nvbm5lY3RlZCgpP3RoaXMuZW5jb2RlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbm4uc2VuZChlKX0pKTp0aGlzLnNlbmRCdWZmZXIucHVzaCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5lbmNvZGUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29ubi5zZW5kKGUpfSkpfSkpfX0se2tleTpcIm1ha2VSZWZcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVmKzE7cmV0dXJuIGU9PT10aGlzLnJlZj90aGlzLnJlZj0wOnRoaXMucmVmPWUsdGhpcy5yZWYudG9TdHJpbmcoKX19LHtrZXk6XCJzZW5kSGVhcnRiZWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzQ29ubmVjdGVkKCkpe2lmKHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZilyZXR1cm4gdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmPW51bGwsdGhpcy5oYXNMb2dnZXIoKSYmdGhpcy5sb2coXCJ0cmFuc3BvcnRcIixcImhlYXJ0YmVhdCB0aW1lb3V0LiBBdHRlbXB0aW5nIHRvIHJlLWVzdGFibGlzaCBjb25uZWN0aW9uXCIpLHZvaWQgdGhpcy5hYm5vcm1hbENsb3NlKFwiaGVhcnRiZWF0IHRpbWVvdXRcIik7dGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmPXRoaXMubWFrZVJlZigpLHRoaXMucHVzaCh7dG9waWM6XCJwaG9lbml4XCIsZXZlbnQ6XCJoZWFydGJlYXRcIixwYXlsb2FkOnt9LHJlZjp0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWZ9KX19fSx7a2V5OlwiYWJub3JtYWxDbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2xvc2VXYXNDbGVhbj0hMSx0aGlzLmNvbm4uY2xvc2UoMWUzLGUpfX0se2tleTpcImZsdXNoU2VuZEJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc0Nvbm5lY3RlZCgpJiZ0aGlzLnNlbmRCdWZmZXIubGVuZ3RoPjAmJih0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKSx0aGlzLnNlbmRCdWZmZXI9W10pfX0se2tleTpcIm9uQ29ubk1lc3NhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuZGVjb2RlKGUuZGF0YSwoZnVuY3Rpb24oZSl7dmFyIG49ZS50b3BpYyxpPWUuZXZlbnQsbz1lLnBheWxvYWQscz1lLnJlZixhPWUuam9pbl9yZWY7cyYmcz09PXQucGVuZGluZ0hlYXJ0YmVhdFJlZiYmKHQucGVuZGluZ0hlYXJ0YmVhdFJlZj1udWxsKSx0Lmhhc0xvZ2dlcigpJiZ0LmxvZyhcInJlY2VpdmVcIixcIlwiLmNvbmNhdChvLnN0YXR1c3x8XCJcIixcIiBcIikuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChpLFwiIFwiKS5jb25jYXQocyYmXCIoXCIrcytcIilcInx8XCJcIiksbyk7Zm9yKHZhciBjPTA7Yzx0LmNoYW5uZWxzLmxlbmd0aDtjKyspe3ZhciB1PXQuY2hhbm5lbHNbY107dS5pc01lbWJlcihuLGksbyxhKSYmdS50cmlnZ2VyKGksbyxzLGEpfWZvcih2YXIgaD0wO2g8dC5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5tZXNzYWdlLmxlbmd0aDtoKyspeygwLHIodC5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5tZXNzYWdlW2hdLDIpWzFdKShlKX19KSl9fSx7a2V5OlwibGVhdmVPcGVuVG9waWNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoYW5uZWxzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvcGljPT09ZSYmKHQuaXNKb2luZWQoKXx8dC5pc0pvaW5pbmcoKSl9KSk7dCYmKHRoaXMuaGFzTG9nZ2VyKCkmJnRoaXMubG9nKFwidHJhbnNwb3J0XCIsJ2xlYXZpbmcgZHVwbGljYXRlIHRvcGljIFwiJy5jb25jYXQoZSwnXCInKSksdC5sZWF2ZSgpKX19XSksZX0oKSxIPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtjKHRoaXMsZSksdGhpcy5lbmRQb2ludD1udWxsLHRoaXMudG9rZW49bnVsbCx0aGlzLnNraXBIZWFydGJlYXQ9ITAsdGhpcy5vbm9wZW49ZnVuY3Rpb24oKXt9LHRoaXMub25lcnJvcj1mdW5jdGlvbigpe30sdGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt9LHRoaXMub25jbG9zZT1mdW5jdGlvbigpe30sdGhpcy5wb2xsRW5kcG9pbnQ9dGhpcy5ub3JtYWxpemVFbmRwb2ludCh0KSx0aGlzLnJlYWR5U3RhdGU9cCx0aGlzLnBvbGwoKX1yZXR1cm4gaChlLFt7a2V5Olwibm9ybWFsaXplRW5kcG9pbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKFwid3M6Ly9cIixcImh0dHA6Ly9cIikucmVwbGFjZShcIndzczovL1wiLFwiaHR0cHM6Ly9cIikucmVwbGFjZShuZXcgUmVnRXhwKFwiKC4qKS9cIitQKSxcIiQxL1wiK08pfX0se2tleTpcImVuZHBvaW50VVJMXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRC5hcHBlbmRQYXJhbXModGhpcy5wb2xsRW5kcG9pbnQse3Rva2VuOnRoaXMudG9rZW59KX19LHtrZXk6XCJjbG9zZUFuZFJldHJ5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5yZWFkeVN0YXRlPXB9fSx7a2V5Olwib250aW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9uZXJyb3IoXCJ0aW1lb3V0XCIpLHRoaXMuY2xvc2VBbmRSZXRyeSgpfX0se2tleTpcInBvbGxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5yZWFkeVN0YXRlIT09diYmdGhpcy5yZWFkeVN0YXRlIT09cHx8RC5yZXF1ZXN0KFwiR0VUXCIsdGhpcy5lbmRwb2ludFVSTCgpLFwiYXBwbGljYXRpb24vanNvblwiLG51bGwsdGhpcy50aW1lb3V0LHRoaXMub250aW1lb3V0LmJpbmQodGhpcyksKGZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBuPXQuc3RhdHVzLGk9dC50b2tlbixvPXQubWVzc2FnZXM7ZS50b2tlbj1pfWVsc2Ugbj0wO3N3aXRjaChuKXtjYXNlIDIwMDpvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLm9ubWVzc2FnZSh7ZGF0YTp0fSl9KSksZS5wb2xsKCk7YnJlYWs7Y2FzZSAyMDQ6ZS5wb2xsKCk7YnJlYWs7Y2FzZSA0MTA6ZS5yZWFkeVN0YXRlPXYsZS5vbm9wZW4oKSxlLnBvbGwoKTticmVhaztjYXNlIDQwMzplLm9uZXJyb3IoKSxlLmNsb3NlKCk7YnJlYWs7Y2FzZSAwOmNhc2UgNTAwOmUub25lcnJvcigpLGUuY2xvc2VBbmRSZXRyeSgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5oYW5kbGVkIHBvbGwgc3RhdHVzIFwiLmNvbmNhdChuKSl9fSkpfX0se2tleTpcInNlbmRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO0QucmVxdWVzdChcIlBPU1RcIix0aGlzLmVuZHBvaW50VVJMKCksXCJhcHBsaWNhdGlvbi9qc29uXCIsZSx0aGlzLnRpbWVvdXQsdGhpcy5vbmVycm9yLmJpbmQodGhpcyxcInRpbWVvdXRcIiksKGZ1bmN0aW9uKGUpe2UmJjIwMD09PWUuc3RhdHVzfHwodC5vbmVycm9yKGUmJmUuc3RhdHVzKSx0LmNsb3NlQW5kUmV0cnkoKSl9KSl9fSx7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucmVhZHlTdGF0ZT1tLHRoaXMub25jbG9zZSgpfX1dKSxlfSgpLEQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7Yyh0aGlzLGUpfXJldHVybiBoKGUsbnVsbCxbe2tleTpcInJlcXVlc3RcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLG8scixzKXtpZihkLlhEb21haW5SZXF1ZXN0KXt2YXIgYT1uZXcgWERvbWFpblJlcXVlc3Q7dGhpcy54ZG9tYWluUmVxdWVzdChhLGUsdCxpLG8scixzKX1lbHNle3ZhciBjPW5ldyBkLlhNTEh0dHBSZXF1ZXN0O3RoaXMueGhyUmVxdWVzdChjLGUsdCxuLGksbyxyLHMpfX19LHtrZXk6XCJ4ZG9tYWluUmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyLHMpe3ZhciBhPXRoaXM7ZS50aW1lb3V0PW8sZS5vcGVuKHQsbiksZS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD1hLnBhcnNlSlNPTihlLnJlc3BvbnNlVGV4dCk7cyYmcyh0KX0sciYmKGUub250aW1lb3V0PXIpLGUub25wcm9ncmVzcz1mdW5jdGlvbigpe30sZS5zZW5kKGkpfX0se2tleTpcInhoclJlcXVlc3RcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLG8scixzLGEpe3ZhciBjPXRoaXM7ZS5vcGVuKHQsbiwhMCksZS50aW1lb3V0PXIsZS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsaSksZS5vbmVycm9yPWZ1bmN0aW9uKCl7YSYmYShudWxsKX0sZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihlLnJlYWR5U3RhdGU9PT1jLnN0YXRlcy5jb21wbGV0ZSYmYSl7dmFyIHQ9Yy5wYXJzZUpTT04oZS5yZXNwb25zZVRleHQpO2EodCl9fSxzJiYoZS5vbnRpbWVvdXQ9cyksZS5zZW5kKG8pfX0se2tleTpcInBhcnNlSlNPTlwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlfHxcIlwiPT09ZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiZmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2VcIixlKSxudWxsfX19LHtrZXk6XCJzZXJpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciByPXQ/XCJcIi5jb25jYXQodCxcIltcIikuY29uY2F0KGksXCJdXCIpOmkscz1lW2ldO1wib2JqZWN0XCI9PT1vKHMpP24ucHVzaCh0aGlzLnNlcmlhbGl6ZShzLHIpKTpuLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHIpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChzKSl9cmV0dXJuIG4uam9pbihcIiZcIil9fSx7a2V5OlwiYXBwZW5kUGFyYW1zXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZigwPT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiBlO3ZhciBuPWUubWF0Y2goL1xcPy8pP1wiJlwiOlwiP1wiO3JldHVyblwiXCIuY29uY2F0KGUpLmNvbmNhdChuKS5jb25jYXQodGhpcy5zZXJpYWxpemUodCkpfX1dKSxlfSgpO0Quc3RhdGVzPXtjb21wbGV0ZTo0fTt2YXIgQj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjKHRoaXMsZSk7dmFyIG89aS5ldmVudHN8fHtzdGF0ZTpcInByZXNlbmNlX3N0YXRlXCIsZGlmZjpcInByZXNlbmNlX2RpZmZcIn07dGhpcy5zdGF0ZT17fSx0aGlzLnBlbmRpbmdEaWZmcz1bXSx0aGlzLmNoYW5uZWw9dCx0aGlzLmpvaW5SZWY9bnVsbCx0aGlzLmNhbGxlcj17b25Kb2luOmZ1bmN0aW9uKCl7fSxvbkxlYXZlOmZ1bmN0aW9uKCl7fSxvblN5bmM6ZnVuY3Rpb24oKXt9fSx0aGlzLmNoYW5uZWwub24oby5zdGF0ZSwoZnVuY3Rpb24odCl7dmFyIGk9bi5jYWxsZXIsbz1pLm9uSm9pbixyPWkub25MZWF2ZSxzPWkub25TeW5jO24uam9pblJlZj1uLmNoYW5uZWwuam9pblJlZigpLG4uc3RhdGU9ZS5zeW5jU3RhdGUobi5zdGF0ZSx0LG8sciksbi5wZW5kaW5nRGlmZnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5zdGF0ZT1lLnN5bmNEaWZmKG4uc3RhdGUsdCxvLHIpfSkpLG4ucGVuZGluZ0RpZmZzPVtdLHMoKX0pKSx0aGlzLmNoYW5uZWwub24oby5kaWZmLChmdW5jdGlvbih0KXt2YXIgaT1uLmNhbGxlcixvPWkub25Kb2luLHI9aS5vbkxlYXZlLHM9aS5vblN5bmM7bi5pblBlbmRpbmdTeW5jU3RhdGUoKT9uLnBlbmRpbmdEaWZmcy5wdXNoKHQpOihuLnN0YXRlPWUuc3luY0RpZmYobi5zdGF0ZSx0LG8scikscygpKX0pKX1yZXR1cm4gaChlLFt7a2V5Olwib25Kb2luXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsZXIub25Kb2luPWV9fSx7a2V5Olwib25MZWF2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbGVyLm9uTGVhdmU9ZX19LHtrZXk6XCJvblN5bmNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxlci5vblN5bmM9ZX19LHtrZXk6XCJsaXN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGUubGlzdCh0aGlzLnN0YXRlLHQpfX0se2tleTpcImluUGVuZGluZ1N5bmNTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuam9pblJlZnx8dGhpcy5qb2luUmVmIT09dGhpcy5jaGFubmVsLmpvaW5SZWYoKX19XSxbe2tleTpcInN5bmNTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvPXRoaXMscj10aGlzLmNsb25lKGUpLHM9e30sYT17fTtyZXR1cm4gdGhpcy5tYXAociwoZnVuY3Rpb24oZSxuKXt0W2VdfHwoYVtlXT1uKX0pKSx0aGlzLm1hcCh0LChmdW5jdGlvbihlLHQpe3ZhciBuPXJbZV07aWYobil7dmFyIGk9dC5tZXRhcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBoeF9yZWZ9KSksYz1uLm1ldGFzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGh4X3JlZn0pKSx1PXQubWV0YXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gYy5pbmRleE9mKGUucGh4X3JlZik8MH0pKSxoPW4ubWV0YXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pbmRleE9mKGUucGh4X3JlZik8MH0pKTt1Lmxlbmd0aD4wJiYoc1tlXT10LHNbZV0ubWV0YXM9dSksaC5sZW5ndGg+MCYmKGFbZV09by5jbG9uZShuKSxhW2VdLm1ldGFzPWgpfWVsc2Ugc1tlXT10fSkpLHRoaXMuc3luY0RpZmYocix7am9pbnM6cyxsZWF2ZXM6YX0sbixpKX19LHtrZXk6XCJzeW5jRGlmZlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLG8pe3ZhciByPXQuam9pbnMscz10LmxlYXZlcyxhPXRoaXMuY2xvbmUoZSk7cmV0dXJuIG58fChuPWZ1bmN0aW9uKCl7fSksb3x8KG89ZnVuY3Rpb24oKXt9KSx0aGlzLm1hcChyLChmdW5jdGlvbihlLHQpe3ZhciBvPWFbZV07aWYoYVtlXT10LG8pe3ZhciByLHM9YVtlXS5tZXRhcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBoeF9yZWZ9KSksYz1vLm1ldGFzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHMuaW5kZXhPZihlLnBoeF9yZWYpPDB9KSk7KHI9YVtlXS5tZXRhcykudW5zaGlmdC5hcHBseShyLGkoYykpfW4oZSxvLHQpfSkpLHRoaXMubWFwKHMsKGZ1bmN0aW9uKGUsdCl7dmFyIG49YVtlXTtpZihuKXt2YXIgaT10Lm1ldGFzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGh4X3JlZn0pKTtuLm1ldGFzPW4ubWV0YXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pbmRleE9mKGUucGh4X3JlZik8MH0pKSxvKGUsbix0KSwwPT09bi5tZXRhcy5sZW5ndGgmJmRlbGV0ZSBhW2VdfX0pKSxhfX0se2tleTpcImxpc3RcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1mdW5jdGlvbihlLHQpe3JldHVybiB0fSksdGhpcy5tYXAoZSwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG4pfSkpfX0se2tleTpcIm1hcFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIHQobixlW25dKX0pKX19LHtrZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX19XSksZX0oKSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe2ModGhpcyxlKSx0aGlzLmNhbGxiYWNrPXQsdGhpcy50aW1lckNhbGM9bix0aGlzLnRpbWVyPW51bGwsdGhpcy50cmllcz0wfXJldHVybiBoKGUsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmllcz0wLGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKX19LHtrZXk6XCJzY2hlZHVsZVRpbWVvdXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMudGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLnRyaWVzPWUudHJpZXMrMSxlLmNhbGxiYWNrKCl9KSx0aGlzLnRpbWVyQ2FsYyh0aGlzLnRyaWVzKzEpKX19XSksZX0oKX1dKX0pKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///0\\n')},,,function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var phoenix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\\n/* harmony import */ var phoenix__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phoenix__WEBPACK_IMPORTED_MODULE_0__);\\n// NOTE: The contents of this file will only be executed if\\n// you uncomment its entry in \"web/static/js/app.js\".\\n// To use Phoenix channels, the first step is to import Socket\\n// and connect at the socket path in \"lib/my_app/endpoint.ex\":\\n\\nvar token = document.head.querySelector(\"[name=token]\").content;\\nvar socket = new phoenix__WEBPACK_IMPORTED_MODULE_0__[\"Socket\"](\"/socket\", {\\n  params: {\\n    token: token\\n  }\\n}); // When you connect, you\\'ll often need to authenticate the client.\\n// For example, imagine you have an authentication plug, `MyAuth`,\\n// which authenticates the session and assigns a `:current_user`.\\n// If the current user exists you can assign the user\\'s token in\\n// the connection for use in the layout.\\n//\\n// In your \"web/router.ex\":\\n//\\n//     pipeline :browser do\\n//       ...\\n//       plug MyAuth\\n//       plug :put_user_token\\n//     end\\n//\\n//     defp put_user_token(conn, _) do\\n//       if current_user = conn.assigns[:current_user] do\\n//         token = Phoenix.Token.sign(conn, \"user socket\", current_user.id)\\n//         assign(conn, :user_token, token)\\n//       else\\n//         conn\\n//       end\\n//     end\\n//\\n// Now you need to pass this token to JavaScript. You can do so\\n// inside a script tag in \"web/templates/layout/app.html.eex\":\\n//\\n//     <script>window.userToken = \"<%= assigns[:user_token] %>\";<\\/script>\\n//\\n// You will need to verify the user token in the \"connect/2\" function\\n// in \"web/channels/user_socket.ex\":\\n//\\n//     def connect(%{\"token\" => token}, socket) do\\n//       # max_age: 1209600 is equivalent to two weeks in seconds\\n//       case Phoenix.Token.verify(socket, \"user socket\", token, max_age: 1209600) do\\n//         {:ok, user_id} ->\\n//           {:ok, assign(socket, :user, user_id)}\\n//         {:error, reason} ->\\n//           :error\\n//       end\\n//     end\\n//\\n// Finally, pass the token on connect as below. Or remove it\\n// from connect if you don\\'t care about authentication.\\n\\nsocket.connect(); // Colors\\n\\nvar enemiesColor = \\'#A10EEC\\'; //Purple\\n\\nvar gridColor = \\'#00E6FE\\'; //Cyan\\n\\nvar foodColor = \\'#FD1999\\'; //Pink\\n\\nvar uiColor = \\'#FFF\\'; //Yellow\\n\\nvar playerColor = \\'#99FC20\\'; //Green\\n\\nvar glowFactor = 20; // Map Size\\n\\nvar mapWidth = 160;\\nvar mapHeight = 90; // Now that you are connected, you can join channels with a topic:\\n\\nvar channelUserId = null;\\nvar gameChannel = socket.channel(\"game:play\", {\\n  \"name\": prompt(\"Please, enter your name:\")\\n});\\ngameChannel.join().receive(\"ok\", function (resp) {\\n  console.log(\"Joined successfully\", resp);\\n  channelUserId = resp.id;\\n}).receive(\"error\", function (resp) {\\n  console.log(\"Unable to join\", resp);\\n});\\ndocument.addEventListener(\"keydown\", function (event) {\\n  switch (event.which) {\\n    case 38:\\n      gameChannel.push(\"change_direction\", {\\n        direction: \"up\"\\n      });\\n      break;\\n\\n    case 40:\\n      gameChannel.push(\"change_direction\", {\\n        direction: \"down\"\\n      });\\n      break;\\n\\n    case 37:\\n      gameChannel.push(\"change_direction\", {\\n        direction: \"left\"\\n      });\\n      break;\\n\\n    case 39:\\n      gameChannel.push(\"change_direction\", {\\n        direction: \"right\"\\n      });\\n      break;\\n  }\\n});\\ngameChannel.on(\"new_frame\", function (payload) {\\n  renderFrame(payload.frame, channelUserId);\\n});\\n\\nfunction renderFrame(frame, userId) {\\n  var canvas = document.getElementById(\"game\");\\n  var context = canvas.getContext(\"2d\");\\n  context.canvas.width = window.innerWidth;\\n  context.canvas.height = window.innerHeight;\\n  context.clearRect(0, 0, canvas.width, canvas.height);\\n  context.shadowBlur = glowFactor;\\n  renderBackgroundGrid();\\n  renderHud(frame, userId);\\n  renderPlayers(frame, userId);\\n  renderFood(frame);\\n}\\n\\nfunction renderPlayers(frame, userId) {\\n  frame.players.forEach(function (player) {\\n    if (player.id == userId) {\\n      renderPlayer(player, playerColor);\\n    } else {// renderPlayer(player, enemiesColor);\\n    }\\n  });\\n}\\n\\nfunction renderHud(frame, userId) {\\n  renderScore(frame, userId);\\n}\\n\\nfunction renderScore(frame, userId) {\\n  frame.players.forEach(function (player, index) {\\n    if (index < 10) {\\n      renderPlayerScore(player.name, player.score, index + 1, index);\\n    } else if (player.id == userId && index > 10) {\\n      renderPlayerScore(player.name, player.score, index + 1, 10);\\n    }\\n  });\\n}\\n\\nfunction renderPlayerScore(name, score, ranking, line) {\\n  var canvas = document.getElementById(\"game\");\\n  var context = canvas.getContext(\"2d\");\\n  var paddedRanking = (\"000\" + ranking).slice(-3);\\n  var paddedName = (\"          \" + name.toUpperCase()).slice(-10);\\n  var paddedScore = (\"000000\" + score).slice(-6);\\n  context.shadowColor = uiColor;\\n  context.fillStyle = uiColor;\\n  context.font = \"16px VCR_OSD_MONO\";\\n  context.fillText(paddedRanking + \" \" + paddedName + \" \" + paddedScore, 30, 30 + 20 * line);\\n}\\n\\nfunction renderFood(frame) {\\n  frame.food.forEach(function (food) {\\n    renderSquare(food.x, food.y, foodColor);\\n  });\\n}\\n\\nfunction renderPlayer(player, color) {\\n  player.body.forEach(function (square) {\\n    renderSquare(square.x, square.y, color);\\n  });\\n}\\n\\nfunction squareXSize() {\\n  return window.innerWidth / mapWidth;\\n}\\n\\nfunction squareYSize() {\\n  return window.innerHeight / mapHeight;\\n}\\n\\nfunction renderSquare(x, y) {\\n  var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"#000\";\\n  var canvas = document.getElementById(\"game\");\\n  var context = canvas.getContext(\"2d\");\\n  context.shadowColor = color;\\n  context.fillStyle = color;\\n  context.fillRect(x * squareXSize(), y * squareYSize(), squareXSize(), squareYSize());\\n}\\n\\nfunction renderBackgroundGrid() {\\n  var canvas = document.getElementById(\"game\");\\n  var context = canvas.getContext(\"2d\");\\n  var verticalStep = 0;\\n  var horizontalStep = 0;\\n\\n  while (true) {\\n    if (drawGridLine(context, \\'vertical\\', verticalStep) == false) {\\n      break;\\n    }\\n\\n    verticalStep = verticalStep + 1;\\n  }\\n\\n  while (true) {\\n    if (drawGridLine(context, \\'horizontal\\', horizontalStep) == false) {\\n      break;\\n    }\\n\\n    horizontalStep = horizontalStep + 1;\\n  }\\n}\\n\\nfunction drawGridLine(context, direction, step) {\\n  var offset = 15;\\n  var spaceBetweenLines = 30;\\n  var position = step * spaceBetweenLines + offset;\\n  var result = false;\\n  context.strokeStyle = gridColor;\\n  context.shadowColor = gridColor;\\n  context.lineWidth = 1;\\n\\n  if (direction == \\'vertical\\' && position <= window.innerWidth) {\\n    context.beginPath();\\n    context.moveTo(position, 0);\\n    context.lineTo(position, window.innerHeight);\\n    context.stroke();\\n    result = true;\\n  } else if (direction == \\'horizontal\\' && position <= window.innerHeight) {\\n    context.beginPath();\\n    context.moveTo(0, position);\\n    context.lineTo(window.innerWidth, position);\\n    context.stroke();\\n    result = true;\\n  }\\n\\n  return result;\\n}\\n\\n/* harmony default export */ __webpack_exports__[\"default\"] = (socket);//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3NvY2tldC5qcz8xNTU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5PVEU6IFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGlmXG4vLyB5b3UgdW5jb21tZW50IGl0cyBlbnRyeSBpbiBcIndlYi9zdGF0aWMvanMvYXBwLmpzXCIuXG5cbi8vIFRvIHVzZSBQaG9lbml4IGNoYW5uZWxzLCB0aGUgZmlyc3Qgc3RlcCBpcyB0byBpbXBvcnQgU29ja2V0XG4vLyBhbmQgY29ubmVjdCBhdCB0aGUgc29ja2V0IHBhdGggaW4gXCJsaWIvbXlfYXBwL2VuZHBvaW50LmV4XCI6XG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwicGhvZW5peFwiXG5cbmNvbnN0IHRva2VuID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9dG9rZW5dXCIpLmNvbnRlbnRcbmxldCBzb2NrZXQgPSBuZXcgU29ja2V0KFwiL3NvY2tldFwiLCB7IHBhcmFtczogeyB0b2tlbjogdG9rZW4gfSB9KVxuXG4vLyBXaGVuIHlvdSBjb25uZWN0LCB5b3UnbGwgb2Z0ZW4gbmVlZCB0byBhdXRoZW50aWNhdGUgdGhlIGNsaWVudC5cbi8vIEZvciBleGFtcGxlLCBpbWFnaW5lIHlvdSBoYXZlIGFuIGF1dGhlbnRpY2F0aW9uIHBsdWcsIGBNeUF1dGhgLFxuLy8gd2hpY2ggYXV0aGVudGljYXRlcyB0aGUgc2Vzc2lvbiBhbmQgYXNzaWducyBhIGA6Y3VycmVudF91c2VyYC5cbi8vIElmIHRoZSBjdXJyZW50IHVzZXIgZXhpc3RzIHlvdSBjYW4gYXNzaWduIHRoZSB1c2VyJ3MgdG9rZW4gaW5cbi8vIHRoZSBjb25uZWN0aW9uIGZvciB1c2UgaW4gdGhlIGxheW91dC5cbi8vXG4vLyBJbiB5b3VyIFwid2ViL3JvdXRlci5leFwiOlxuLy9cbi8vICAgICBwaXBlbGluZSA6YnJvd3NlciBkb1xuLy8gICAgICAgLi4uXG4vLyAgICAgICBwbHVnIE15QXV0aFxuLy8gICAgICAgcGx1ZyA6cHV0X3VzZXJfdG9rZW5cbi8vICAgICBlbmRcbi8vXG4vLyAgICAgZGVmcCBwdXRfdXNlcl90b2tlbihjb25uLCBfKSBkb1xuLy8gICAgICAgaWYgY3VycmVudF91c2VyID0gY29ubi5hc3NpZ25zWzpjdXJyZW50X3VzZXJdIGRvXG4vLyAgICAgICAgIHRva2VuID0gUGhvZW5peC5Ub2tlbi5zaWduKGNvbm4sIFwidXNlciBzb2NrZXRcIiwgY3VycmVudF91c2VyLmlkKVxuLy8gICAgICAgICBhc3NpZ24oY29ubiwgOnVzZXJfdG9rZW4sIHRva2VuKVxuLy8gICAgICAgZWxzZVxuLy8gICAgICAgICBjb25uXG4vLyAgICAgICBlbmRcbi8vICAgICBlbmRcbi8vXG4vLyBOb3cgeW91IG5lZWQgdG8gcGFzcyB0aGlzIHRva2VuIHRvIEphdmFTY3JpcHQuIFlvdSBjYW4gZG8gc29cbi8vIGluc2lkZSBhIHNjcmlwdCB0YWcgaW4gXCJ3ZWIvdGVtcGxhdGVzL2xheW91dC9hcHAuaHRtbC5lZXhcIjpcbi8vXG4vLyAgICAgPHNjcmlwdD53aW5kb3cudXNlclRva2VuID0gXCI8JT0gYXNzaWduc1s6dXNlcl90b2tlbl0gJT5cIjs8L3NjcmlwdD5cbi8vXG4vLyBZb3Ugd2lsbCBuZWVkIHRvIHZlcmlmeSB0aGUgdXNlciB0b2tlbiBpbiB0aGUgXCJjb25uZWN0LzJcIiBmdW5jdGlvblxuLy8gaW4gXCJ3ZWIvY2hhbm5lbHMvdXNlcl9zb2NrZXQuZXhcIjpcbi8vXG4vLyAgICAgZGVmIGNvbm5lY3QoJXtcInRva2VuXCIgPT4gdG9rZW59LCBzb2NrZXQpIGRvXG4vLyAgICAgICAjIG1heF9hZ2U6IDEyMDk2MDAgaXMgZXF1aXZhbGVudCB0byB0d28gd2Vla3MgaW4gc2Vjb25kc1xuLy8gICAgICAgY2FzZSBQaG9lbml4LlRva2VuLnZlcmlmeShzb2NrZXQsIFwidXNlciBzb2NrZXRcIiwgdG9rZW4sIG1heF9hZ2U6IDEyMDk2MDApIGRvXG4vLyAgICAgICAgIHs6b2ssIHVzZXJfaWR9IC0+XG4vLyAgICAgICAgICAgezpvaywgYXNzaWduKHNvY2tldCwgOnVzZXIsIHVzZXJfaWQpfVxuLy8gICAgICAgICB7OmVycm9yLCByZWFzb259IC0+XG4vLyAgICAgICAgICAgOmVycm9yXG4vLyAgICAgICBlbmRcbi8vICAgICBlbmRcbi8vXG4vLyBGaW5hbGx5LCBwYXNzIHRoZSB0b2tlbiBvbiBjb25uZWN0IGFzIGJlbG93LiBPciByZW1vdmUgaXRcbi8vIGZyb20gY29ubmVjdCBpZiB5b3UgZG9uJ3QgY2FyZSBhYm91dCBhdXRoZW50aWNhdGlvbi5cblxuc29ja2V0LmNvbm5lY3QoKVxuXG4vLyBDb2xvcnNcbmxldCBlbmVtaWVzQ29sb3IgPSAnI0ExMEVFQyc7IC8vUHVycGxlXG5sZXQgZ3JpZENvbG9yID0gJyMwMEU2RkUnOyAvL0N5YW5cbmxldCBmb29kQ29sb3IgPSAnI0ZEMTk5OSc7IC8vUGlua1xubGV0IHVpQ29sb3IgPSAnI0ZGRic7IC8vWWVsbG93XG5sZXQgcGxheWVyQ29sb3IgPSAnIzk5RkMyMCc7IC8vR3JlZW5cbmxldCBnbG93RmFjdG9yID0gMjA7XG5cbi8vIE1hcCBTaXplXG5sZXQgbWFwV2lkdGggPSAxNjA7XG5sZXQgbWFwSGVpZ2h0ID0gOTA7XG5cbi8vIE5vdyB0aGF0IHlvdSBhcmUgY29ubmVjdGVkLCB5b3UgY2FuIGpvaW4gY2hhbm5lbHMgd2l0aCBhIHRvcGljOlxubGV0IGNoYW5uZWxVc2VySWQgPSBudWxsO1xubGV0IGdhbWVDaGFubmVsID0gc29ja2V0LmNoYW5uZWwoXCJnYW1lOnBsYXlcIiwgeyBcIm5hbWVcIjogcHJvbXB0KFwiUGxlYXNlLCBlbnRlciB5b3VyIG5hbWU6XCIpIH0pXG5nYW1lQ2hhbm5lbC5qb2luKClcbiAgLnJlY2VpdmUoXCJva1wiLCByZXNwID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkpvaW5lZCBzdWNjZXNzZnVsbHlcIiwgcmVzcCk7XG4gICAgY2hhbm5lbFVzZXJJZCA9IHJlc3AuaWQ7XG4gIH0pXG4gIC5yZWNlaXZlKFwiZXJyb3JcIiwgcmVzcCA9PiB7IGNvbnNvbGUubG9nKFwiVW5hYmxlIHRvIGpvaW5cIiwgcmVzcCkgfSlcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnQgPT4ge1xuICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgY2FzZSAzODpcbiAgICAgIGdhbWVDaGFubmVsLnB1c2goXCJjaGFuZ2VfZGlyZWN0aW9uXCIsIHsgZGlyZWN0aW9uOiBcInVwXCIgfSlcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDA6XG4gICAgICBnYW1lQ2hhbm5lbC5wdXNoKFwiY2hhbmdlX2RpcmVjdGlvblwiLCB7IGRpcmVjdGlvbjogXCJkb3duXCIgfSlcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzc6XG4gICAgICBnYW1lQ2hhbm5lbC5wdXNoKFwiY2hhbmdlX2RpcmVjdGlvblwiLCB7IGRpcmVjdGlvbjogXCJsZWZ0XCIgfSlcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzk6XG4gICAgICBnYW1lQ2hhbm5lbC5wdXNoKFwiY2hhbmdlX2RpcmVjdGlvblwiLCB7IGRpcmVjdGlvbjogXCJyaWdodFwiIH0pXG4gICAgICBicmVhaztcbiAgfVxuXG59KVxuXG5nYW1lQ2hhbm5lbC5vbihcIm5ld19mcmFtZVwiLCBwYXlsb2FkID0+IHtcbiAgcmVuZGVyRnJhbWUocGF5bG9hZC5mcmFtZSwgY2hhbm5lbFVzZXJJZCk7XG59KVxuXG5mdW5jdGlvbiByZW5kZXJGcmFtZShmcmFtZSwgdXNlcklkKSB7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XG4gIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29udGV4dC5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICBjb250ZXh0LnNoYWRvd0JsdXIgPSBnbG93RmFjdG9yO1xuXG4gIHJlbmRlckJhY2tncm91bmRHcmlkKCk7XG4gIHJlbmRlckh1ZChmcmFtZSwgdXNlcklkKTtcbiAgcmVuZGVyUGxheWVycyhmcmFtZSwgdXNlcklkKTtcbiAgcmVuZGVyRm9vZChmcmFtZSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBsYXllcnMoZnJhbWUsIHVzZXJJZCkge1xuICBmcmFtZS5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKHBsYXllcikge1xuICAgIGlmIChwbGF5ZXIuaWQgPT0gdXNlcklkKSB7XG4gICAgICByZW5kZXJQbGF5ZXIocGxheWVyLCBwbGF5ZXJDb2xvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlbmRlclBsYXllcihwbGF5ZXIsIGVuZW1pZXNDb2xvcik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVySHVkKGZyYW1lLCB1c2VySWQpIHtcbiAgcmVuZGVyU2NvcmUoZnJhbWUsIHVzZXJJZCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNjb3JlKGZyYW1lLCB1c2VySWQpIHtcbiAgZnJhbWUucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uIChwbGF5ZXIsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMTApIHtcbiAgICAgIHJlbmRlclBsYXllclNjb3JlKHBsYXllci5uYW1lLCBwbGF5ZXIuc2NvcmUsIGluZGV4ICsgMSwgaW5kZXgpO1xuICAgIH0gZWxzZSBpZiAocGxheWVyLmlkID09IHVzZXJJZCAmJiBpbmRleCA+IDEwKSB7XG4gICAgICByZW5kZXJQbGF5ZXJTY29yZShwbGF5ZXIubmFtZSwgcGxheWVyLnNjb3JlLCBpbmRleCArIDEsIDEwKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJQbGF5ZXJTY29yZShuYW1lLCBzY29yZSwgcmFua2luZywgbGluZSkge1xuICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lXCIpO1xuICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIHZhciBwYWRkZWRSYW5raW5nID0gKFwiMDAwXCIgKyByYW5raW5nKS5zbGljZSgtMyk7XG4gIHZhciBwYWRkZWROYW1lID0gKFwiICAgICAgICAgIFwiICsgbmFtZS50b1VwcGVyQ2FzZSgpKS5zbGljZSgtMTApO1xuICB2YXIgcGFkZGVkU2NvcmUgPSAoXCIwMDAwMDBcIiArIHNjb3JlKS5zbGljZSgtNik7XG4gIGNvbnRleHQuc2hhZG93Q29sb3IgPSB1aUNvbG9yO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IHVpQ29sb3I7XG4gIGNvbnRleHQuZm9udCA9IFwiMTZweCBWQ1JfT1NEX01PTk9cIjtcbiAgY29udGV4dC5maWxsVGV4dChwYWRkZWRSYW5raW5nICsgXCIgXCIgKyBwYWRkZWROYW1lICsgXCIgXCIgKyBwYWRkZWRTY29yZSwgMzAsIDMwICsgKDIwICogbGluZSkpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJGb29kKGZyYW1lKSB7XG4gIGZyYW1lLmZvb2QuZm9yRWFjaChmdW5jdGlvbiAoZm9vZCkge1xuICAgIHJlbmRlclNxdWFyZShmb29kLngsIGZvb2QueSwgZm9vZENvbG9yKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBsYXllcihwbGF5ZXIsIGNvbG9yKSB7XG4gIHBsYXllci5ib2R5LmZvckVhY2goZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgIHJlbmRlclNxdWFyZShzcXVhcmUueCwgc3F1YXJlLnksIGNvbG9yKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNxdWFyZVhTaXplKCkge1xuICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggLyBtYXBXaWR0aDtcbn1cblxuZnVuY3Rpb24gc3F1YXJlWVNpemUoKSB7XG4gIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBtYXBIZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNxdWFyZSh4LCB5LCBjb2xvciA9IFwiIzAwMFwiKSB7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XG4gIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29udGV4dC5zaGFkb3dDb2xvciA9IGNvbG9yO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICBjb250ZXh0LmZpbGxSZWN0KHggKiBzcXVhcmVYU2l6ZSgpLCB5ICogc3F1YXJlWVNpemUoKSwgc3F1YXJlWFNpemUoKSwgc3F1YXJlWVNpemUoKSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmRHcmlkKCkge1xuICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lXCIpO1xuICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgbGV0IHZlcnRpY2FsU3RlcCA9IDA7XG4gIGxldCBob3Jpem9udGFsU3RlcCA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGRyYXdHcmlkTGluZShjb250ZXh0LCAndmVydGljYWwnLCB2ZXJ0aWNhbFN0ZXApID09IGZhbHNlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmVydGljYWxTdGVwID0gdmVydGljYWxTdGVwICsgMTtcbiAgfVxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChkcmF3R3JpZExpbmUoY29udGV4dCwgJ2hvcml6b250YWwnLCBob3Jpem9udGFsU3RlcCkgPT0gZmFsc2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBob3Jpem9udGFsU3RlcCA9IGhvcml6b250YWxTdGVwICsgMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkcmF3R3JpZExpbmUoY29udGV4dCwgZGlyZWN0aW9uLCBzdGVwKSB7XG4gIGxldCBvZmZzZXQgPSAxNTtcbiAgbGV0IHNwYWNlQmV0d2VlbkxpbmVzID0gMzA7XG4gIGxldCBwb3NpdGlvbiA9IChzdGVwICogc3BhY2VCZXR3ZWVuTGluZXMpICsgb2Zmc2V0O1xuICBsZXQgcmVzdWx0ID0gZmFsc2U7XG5cbiAgY29udGV4dC5zdHJva2VTdHlsZSA9IGdyaWRDb2xvcjtcbiAgY29udGV4dC5zaGFkb3dDb2xvciA9IGdyaWRDb2xvcjtcbiAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuXG4gIGlmIChkaXJlY3Rpb24gPT0gJ3ZlcnRpY2FsJyAmJiBwb3NpdGlvbiA8PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24sIDApO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgcmVzdWx0ID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gJ2hvcml6b250YWwnICYmIHBvc2l0aW9uIDw9IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8oMCwgcG9zaXRpb24pO1xuICAgIGNvbnRleHQubGluZVRvKHdpbmRvdy5pbm5lcldpZHRoLCBwb3NpdGlvbik7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICByZXN1bHQgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc29ja2V0XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBWkE7QUFlQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///3\\n')}]);","extractedComments":[]}